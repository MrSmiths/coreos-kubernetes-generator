---
storage:
  files:
    - filesystem: "root"
      path:       "/etc/metadata/coreos"
      mode:       0644
      contents:
        inline: |
          COREOS_VAGRANT_VIRTUALBOX_PRIVATE_IPV4=172.20.0.51
          COREOS_VAGRANT_VIRTUALBOX_HOSTNAME=worker1
    - filesystem: "root"
      path:       "/etc/hostname"
      mode:       0644
      contents:
        inline: worker1
    - filesystem: "root"
      path:       "/etc/hosts"
      mode:       0644
      contents:
        inline: |
          127.0.0.1	localhost
          ::1		localhost
          172.20.0.11 coreos1 coreos1.example.com
          172.20.0.12 coreos2 coreos2.example.com
          172.20.0.13 coreos3 coreos3.example.com
    - path: /etc/docker/ca.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIDhTCCAm2gAwIBAgIJAPdp2fqmRedeMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBgMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMRAwDgYDVQQDDAdLdWJlLUNBMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEAozecwrUpvaWzE0uykH4LLRX+C3fiJDVSmkwS+vlYbiuyiKmK
          SrWQnfI7ahytZgqcgT686MOTdSaAioZF6BHtlNDqwmtH2s7OrBjRMf07arYla1og
          6eu5cz+/GcL/2K7ysq7nr0WAm7SS52seAyA0bg9vHy5LWLEZ10B8sMTliIBkyJoe
          SH65MFDiCkn0sWB/bgYQiMq/3Z9kUAf/lX7PQRVOxEru3d4gpbsK+3GD6yTPXT4B
          3z+8PjYeIw5QNphdM3zOFd9NidwyGYwk5DLBsHQRAqhsm1lhBC3+JiaJ5knFdzje
          yPg55DyfKnYjRgEUn9VxyqIfHwl9W8HcZoVzOwIDAQABo0IwQDAOBgNVHQ8BAf8E
          BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUaPVBptTGkvBrW2aDMKjr
          Pvs6dEYwDQYJKoZIhvcNAQELBQADggEBAH4yCCAGcurjSa4UzXGL6Z+kd1M3u9at
          ZbpOVvBKpCaHj7Lsgoz9neKHHVboRRbdv9KYkNRqmotz4tpvZQ9nXwaTXjdzw7+X
          /OgpnTFR8dx8zjnoB8UfN0atdRaaTzDa0XuDTJh7jqPQDX+BVu3UZKb6y4L7CrpN
          RHiTpYE1AFCEFrtptdyFHANWJb+PN+6tEpSt7l+2vv6/Ej+nCXiG1surm5yfllj6
          ugT0hxfPMefWWE5lxloR6atG87rJsonuRVWOao1uz+TLeGEPRAGQSlXPT6ux9hko
          m3vmP/B6qA48oVaJYYg3XN0WzWX6W+qy5mNuxAzBcvkD08WCBmV4lwQ=
          -----END CERTIFICATE-----

    - path: /etc/docker/server.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIFiDCCBHCgAwIBAgIJAMZSQM9IPPJIMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBeMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMQ4wDAYDVQQDDAVhZG1pbjCCASIwDQYJKoZIhvcNAQEBBQADggEP
          ADCCAQoCggEBAMrm3BpWi8bWK+LGfTRedAC/xZ5hOnlDUedMCdjTQRSYdVeKPlFf
          1n7fkTGCyimpvA/tzknQHOgX72g2K6pbhgQJYIjm/a/0I2tVb1tMnio1l5wtnt0D
          M3NsscnhAsa1TPHVvI8V+NljpdEgpjUyA9F4nzppL/k8pHEIUdpan4Tp2VvbNrOz
          vs2crbMcUn+fmpjYjKv3nilcdBHfZYWz1oMoeuzFkgqc5igo4fyO8ySozd07huUf
          54UO1Wx2Fz9dCkyop/afuRg/0/FGnW0crhQgX1b8prwnqI1ajvJzVZbFGHGXMgDX
          V8stA1WTD/2d9fXQn0M0fbDP50CiG75e+0cCAwEAAaOCAkUwggJBMA4GA1UdDwEB
          /wQEAwIF4DAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwDAYDVR0TAQH/
          BAIwADAdBgNVHQ4EFgQU56zvVU3prpWbNx84pItcmVEAhU4wggHhBgNVHREEggHY
          MIIB1IIKa3ViZXJuZXRlc4ISa3ViZXJuZXRlcy5kZWZhdWx0ghZrdWJlcm5ldGVz
          LmRlZmF1bHQuc3ZjgiRrdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9j
          YWyCDmt1YmUtYXBpc2VydmVyggprdWJlLWFkbWlugglsb2NhbGhvc3SCC2V4YW1w
          bGUuY29tggdjb3Jlb3Mxggdjb3Jlb3Myggdjb3Jlb3Mzgg1jb3Jlb3MxLmxvY2Fs
          gg1jb3Jlb3MyLmxvY2Fsgg1jb3Jlb3MzLmxvY2FsghNjb3Jlb3MxLmV4YW1wbGUu
          Y29tghNjb3Jlb3MyLmV4YW1wbGUuY29tghNjb3Jlb3MzLmV4YW1wbGUuY29tggd3
          b3JrZXIxggd3b3JrZXIyggd3b3JrZXIzghN3b3JrZXIxLmV4YW1wbGUuY29tghN3
          b3JrZXIyLmV4YW1wbGUuY29tghN3b3JrZXIzLmV4YW1wbGUuY29thwR/AAABhwQA
          AAAAhwQKAwABhwQKAwAKhwQKAwAyhwSsFAABhwSsFAAChwSsFAALhwSsFAAMhwSs
          FAANhwSsFAAzhwSsFAA0hwSsFAA1gRFhZG1pbkBleGFtcGxlLmNvbTANBgkqhkiG
          9w0BAQsFAAOCAQEAoInSNFna4TsM6t8jAnkC0dQ3lsTETaRwQSfuBRGoxWo7j7Dq
          yXn4mXdPPnrpGKkWTTcFae1Fsfy1W0m6sPPuxOdccWiQqpadn4onl0UYgt/Bk2rY
          paqKvGy+i229DPG72AfwqNnSsBhZz84AYF/iF5HVh+MkhhxUjqGL8Yp6UZPZCgbg
          906EDZJVO111MPlGJ4aFI2YrvX6BazMP5UuiaW794Ips969t49g2SsJWYBZtruD9
          YoiPxcpn5C6YmZHy4JnGwLmwcU/S2V72NIumj0as3LimULAmZvFMojE95Y4Ususk
          QO0RGsfHBZfCP7BoLXaQuB1PSlcR+QbOSphVxQ==
          -----END CERTIFICATE-----

    - path: /etc/docker/server-key.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEogIBAAKCAQEAyubcGlaLxtYr4sZ9NF50AL/FnmE6eUNR50wJ2NNBFJh1V4o+
          UV/Wft+RMYLKKam8D+3OSdAc6BfvaDYrqluGBAlgiOb9r/Qja1VvW0yeKjWXnC2e
          3QMzc2yxyeECxrVM8dW8jxX42WOl0SCmNTID0XifOmkv+TykcQhR2lqfhOnZW9s2
          s7O+zZytsxxSf5+amNiMq/eeKVx0Ed9lhbPWgyh67MWSCpzmKCjh/I7zJKjN3TuG
          5R/nhQ7VbHYXP10KTKin9p+5GD/T8UadbRyuFCBfVvymvCeojVqO8nNVlsUYcZcy
          ANdXyy0DVZMP/Z319dCfQzR9sM/nQKIbvl77RwIDAQABAoIBAFLeAprHKgMlSXsu
          8cfHo70ClaVftE/+TJ8YkRT7AqN0uMft8BGwAJyElnoQHpzxc5tV1mCTHJs121NG
          fILxKkTPx5tiK84G+chGdlplalt209q3TyCYxBSqGdqHiWi6dxh14LLXmHDAn+JP
          YVJsgN62UuG6QBucxtRbP4LcbDYNyQmKuocDgeEEEvvvHXmEQhsLONB4OFc1estS
          nPb7gAViBNhaKYIGnBVfkEg7OltGs2lDMUas+xReb9p5T3kcocE78+lZs8OSKYBg
          K+sTRNEvd+rCyjiT4lVwURcnlN6HIbwETxh9zramFj6Ffwv9BqFjuKKQF04/lRU4
          D0fPuyECgYEA+XNoANtAJMDRpaDHkVNpNs5/ew55j9Lyug7uMLMbTErHw2SIdFEr
          cJMz2PVhRJMw9m7rZaorbDIMusPNl0RZkz7AocI9GZN0fdTO1TTIuC+PST8BQVDI
          PW1X/LTLfGVXfZlVsJvHrZ7Xcv/uwlV1o+8FOOaTz6Q2EsalIi8Zu0kCgYEA0DqX
          UyJTklrvOR4dCceFc9ia8xazjSXATaO0swm4b+QAIjqQ/zs7CXdjM3Uimcoi8Qtu
          RYTPAsf3S1UwOAiEdgXMbfwX0a5mZyFxysCSF3qDpbqvMm2hAJC13CPm5YLNQ+TE
          Ap70jDt5/trHxazwYc3EtF267P+pT8Ds/2BC8g8CgYBRy+gEr+BerOOR/iCypLlR
          gXEH9v0hjjiNjivIyFJhN/w9NBASpDMsXPiZYg0dIW7iwAhsc9p9RgQqkd4uhfkh
          cWhVIo5KfrGqOUgBXaebzeycRg6xTj369ontkZNQHSMNSmRw3wQhCH75dLbj/oXu
          1YfO2r0JT31ztrObe/piEQKBgCAMlJP4GZLSKjXJW8DQk8rD0P2PRe14nQOWKc7Q
          tTGLjzW1e/G8xRZs6LjX046GHSCqmLtceJw9+OMAZp6JORINTGy1O1lLlXlUHXaO
          cy3n7nFIrYR+eSRkIYmTgQtcOYm0oTKiEpOu59UBCXR0bL8w85CrSIUHyKB82j1o
          LIWjAoGAb03OlhPICFOskhtarqKv/B3ReAfEyh9mcpn7qhYsLsErh7tlg1h8prlF
          rlpxkY9YOqCjqd9PkCdPagHnEU82HJ/eQrpOvLrpfgKlMUObEGgZymMlkRvbLxLy
          BHWWoS+BnhAQsl8WHValXW9Hm3c2zQJCmJcypA3mmr41AO0Z++o=
          -----END RSA PRIVATE KEY-----

    - path: "/etc/motd"
      filesystem: root
      mode: 0644
      contents:
        inline: | 
          Just another day!!
    - path: /etc/environment
      filesystem: root
      mode: 0644
      contents:
        inline: |
          COREOS_VAGRANT_VIRTUALBOX_PRIVATE_IPV4=172.20.0.51
          COREOS_VAGRANT_VIRTUALBOX_HOSTNAME=worker1
          ADVERTISE_IP=172.20.0.51
          COREOS_PRIVATE_IPV4=172.20.0.51
          ETCDCTL_SSL_DIR=/var/lib/etcd/ssl
          ETCD_SSL_DIR=/var/lib/etcd/ssl
          ETCDCTL_CA_FILE=/etc/ssl/certs/ca.pem
          ETCDCTL_CERT_FILE=/var/lib/etcd/ssl/etcd-node.pem
          ETCDCTL_KEY_FILE=/var/lib/etcd/ssl/etcd-node-key.pem
          ETCDCTL_ENDPOINTS="https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
          ETCD_ENDPOINTS="https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
          FLANNELD_ETCD_ENDPOINTS="https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
          FLANNELD_IFACE="enp0s3"
          FLANNELD_ETCD_PREFIX="/coreos.com/network"
          LOCKSMITHCTL_ETCD_CAFILE=/etc/ssl/certs/ca.pem
          LOCKSMITHCTL_ETCD_CERTFILE=/var/lib/etcd/ssl/etcd-node.pem
          LOCKSMITHCTL_ETCD_KEYFILE=/var/lib/etcd/ssl/etcd-node-key.pem
          LOCKSMITHCTL_ENDPOINT="https://172.20.0.51:2379"
          #HTTP_PROXY=
          #HTTPS_PROXY=
          ##http_proxy=
          ##https_proxy=
          no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock
    - path: /etc/systemd/system.conf.d/10-default-env.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Manager]
          #DefaultEnvironment=##http_proxy=
          #DefaultEnvironment=##https_proxy=
          DefaultEnvironment=#HTTP_PROXY=
          DefaultEnvironment=#HTTPS_PROXY=
          DefaultEnvironment="no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock"
    - path: /etc/systemd/system/docker.service.d/environment.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Service]
          #ExecStartPre=ln -s /run/flannel/flannel_docker_opts.env /etc/kubernetes/cni/docker_opts_cni.env
          EnvironmentFile=/etc/environment
    - path: /etc/systemd/system/etcd-member.service.d/conf1.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Service]
          EnvironmentFile=/etc/flannel/options.env
    - path: /etc/systemd/timesyncd.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Time]
          NTP=pool.ntp.org
    - path: /var/lib/etcd/ssl/ca.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIDhTCCAm2gAwIBAgIJAPdp2fqmRedeMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBgMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMRAwDgYDVQQDDAdLdWJlLUNBMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEAozecwrUpvaWzE0uykH4LLRX+C3fiJDVSmkwS+vlYbiuyiKmK
          SrWQnfI7ahytZgqcgT686MOTdSaAioZF6BHtlNDqwmtH2s7OrBjRMf07arYla1og
          6eu5cz+/GcL/2K7ysq7nr0WAm7SS52seAyA0bg9vHy5LWLEZ10B8sMTliIBkyJoe
          SH65MFDiCkn0sWB/bgYQiMq/3Z9kUAf/lX7PQRVOxEru3d4gpbsK+3GD6yTPXT4B
          3z+8PjYeIw5QNphdM3zOFd9NidwyGYwk5DLBsHQRAqhsm1lhBC3+JiaJ5knFdzje
          yPg55DyfKnYjRgEUn9VxyqIfHwl9W8HcZoVzOwIDAQABo0IwQDAOBgNVHQ8BAf8E
          BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUaPVBptTGkvBrW2aDMKjr
          Pvs6dEYwDQYJKoZIhvcNAQELBQADggEBAH4yCCAGcurjSa4UzXGL6Z+kd1M3u9at
          ZbpOVvBKpCaHj7Lsgoz9neKHHVboRRbdv9KYkNRqmotz4tpvZQ9nXwaTXjdzw7+X
          /OgpnTFR8dx8zjnoB8UfN0atdRaaTzDa0XuDTJh7jqPQDX+BVu3UZKb6y4L7CrpN
          RHiTpYE1AFCEFrtptdyFHANWJb+PN+6tEpSt7l+2vv6/Ej+nCXiG1surm5yfllj6
          ugT0hxfPMefWWE5lxloR6atG87rJsonuRVWOao1uz+TLeGEPRAGQSlXPT6ux9hko
          m3vmP/B6qA48oVaJYYg3XN0WzWX6W+qy5mNuxAzBcvkD08WCBmV4lwQ=
          -----END CERTIFICATE-----

    - path: /etc/ssl/certs/ca.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIDhTCCAm2gAwIBAgIJAPdp2fqmRedeMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBgMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMRAwDgYDVQQDDAdLdWJlLUNBMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEAozecwrUpvaWzE0uykH4LLRX+C3fiJDVSmkwS+vlYbiuyiKmK
          SrWQnfI7ahytZgqcgT686MOTdSaAioZF6BHtlNDqwmtH2s7OrBjRMf07arYla1og
          6eu5cz+/GcL/2K7ysq7nr0WAm7SS52seAyA0bg9vHy5LWLEZ10B8sMTliIBkyJoe
          SH65MFDiCkn0sWB/bgYQiMq/3Z9kUAf/lX7PQRVOxEru3d4gpbsK+3GD6yTPXT4B
          3z+8PjYeIw5QNphdM3zOFd9NidwyGYwk5DLBsHQRAqhsm1lhBC3+JiaJ5knFdzje
          yPg55DyfKnYjRgEUn9VxyqIfHwl9W8HcZoVzOwIDAQABo0IwQDAOBgNVHQ8BAf8E
          BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUaPVBptTGkvBrW2aDMKjr
          Pvs6dEYwDQYJKoZIhvcNAQELBQADggEBAH4yCCAGcurjSa4UzXGL6Z+kd1M3u9at
          ZbpOVvBKpCaHj7Lsgoz9neKHHVboRRbdv9KYkNRqmotz4tpvZQ9nXwaTXjdzw7+X
          /OgpnTFR8dx8zjnoB8UfN0atdRaaTzDa0XuDTJh7jqPQDX+BVu3UZKb6y4L7CrpN
          RHiTpYE1AFCEFrtptdyFHANWJb+PN+6tEpSt7l+2vv6/Ej+nCXiG1surm5yfllj6
          ugT0hxfPMefWWE5lxloR6atG87rJsonuRVWOao1uz+TLeGEPRAGQSlXPT6ux9hko
          m3vmP/B6qA48oVaJYYg3XN0WzWX6W+qy5mNuxAzBcvkD08WCBmV4lwQ=
          -----END CERTIFICATE-----

    - path: /etc/kubernetes/ssl/ca.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIDhTCCAm2gAwIBAgIJAPdp2fqmRedeMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBgMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMRAwDgYDVQQDDAdLdWJlLUNBMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEAozecwrUpvaWzE0uykH4LLRX+C3fiJDVSmkwS+vlYbiuyiKmK
          SrWQnfI7ahytZgqcgT686MOTdSaAioZF6BHtlNDqwmtH2s7OrBjRMf07arYla1og
          6eu5cz+/GcL/2K7ysq7nr0WAm7SS52seAyA0bg9vHy5LWLEZ10B8sMTliIBkyJoe
          SH65MFDiCkn0sWB/bgYQiMq/3Z9kUAf/lX7PQRVOxEru3d4gpbsK+3GD6yTPXT4B
          3z+8PjYeIw5QNphdM3zOFd9NidwyGYwk5DLBsHQRAqhsm1lhBC3+JiaJ5knFdzje
          yPg55DyfKnYjRgEUn9VxyqIfHwl9W8HcZoVzOwIDAQABo0IwQDAOBgNVHQ8BAf8E
          BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUaPVBptTGkvBrW2aDMKjr
          Pvs6dEYwDQYJKoZIhvcNAQELBQADggEBAH4yCCAGcurjSa4UzXGL6Z+kd1M3u9at
          ZbpOVvBKpCaHj7Lsgoz9neKHHVboRRbdv9KYkNRqmotz4tpvZQ9nXwaTXjdzw7+X
          /OgpnTFR8dx8zjnoB8UfN0atdRaaTzDa0XuDTJh7jqPQDX+BVu3UZKb6y4L7CrpN
          RHiTpYE1AFCEFrtptdyFHANWJb+PN+6tEpSt7l+2vv6/Ej+nCXiG1surm5yfllj6
          ugT0hxfPMefWWE5lxloR6atG87rJsonuRVWOao1uz+TLeGEPRAGQSlXPT6ux9hko
          m3vmP/B6qA48oVaJYYg3XN0WzWX6W+qy5mNuxAzBcvkD08WCBmV4lwQ=
          -----END CERTIFICATE-----

    - path: /etc/kubernetes/ssl/etcd-node.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIFiDCCBHCgAwIBAgIJAMZSQM9IPPJIMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBeMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMQ4wDAYDVQQDDAVhZG1pbjCCASIwDQYJKoZIhvcNAQEBBQADggEP
          ADCCAQoCggEBAMrm3BpWi8bWK+LGfTRedAC/xZ5hOnlDUedMCdjTQRSYdVeKPlFf
          1n7fkTGCyimpvA/tzknQHOgX72g2K6pbhgQJYIjm/a/0I2tVb1tMnio1l5wtnt0D
          M3NsscnhAsa1TPHVvI8V+NljpdEgpjUyA9F4nzppL/k8pHEIUdpan4Tp2VvbNrOz
          vs2crbMcUn+fmpjYjKv3nilcdBHfZYWz1oMoeuzFkgqc5igo4fyO8ySozd07huUf
          54UO1Wx2Fz9dCkyop/afuRg/0/FGnW0crhQgX1b8prwnqI1ajvJzVZbFGHGXMgDX
          V8stA1WTD/2d9fXQn0M0fbDP50CiG75e+0cCAwEAAaOCAkUwggJBMA4GA1UdDwEB
          /wQEAwIF4DAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwDAYDVR0TAQH/
          BAIwADAdBgNVHQ4EFgQU56zvVU3prpWbNx84pItcmVEAhU4wggHhBgNVHREEggHY
          MIIB1IIKa3ViZXJuZXRlc4ISa3ViZXJuZXRlcy5kZWZhdWx0ghZrdWJlcm5ldGVz
          LmRlZmF1bHQuc3ZjgiRrdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9j
          YWyCDmt1YmUtYXBpc2VydmVyggprdWJlLWFkbWlugglsb2NhbGhvc3SCC2V4YW1w
          bGUuY29tggdjb3Jlb3Mxggdjb3Jlb3Myggdjb3Jlb3Mzgg1jb3Jlb3MxLmxvY2Fs
          gg1jb3Jlb3MyLmxvY2Fsgg1jb3Jlb3MzLmxvY2FsghNjb3Jlb3MxLmV4YW1wbGUu
          Y29tghNjb3Jlb3MyLmV4YW1wbGUuY29tghNjb3Jlb3MzLmV4YW1wbGUuY29tggd3
          b3JrZXIxggd3b3JrZXIyggd3b3JrZXIzghN3b3JrZXIxLmV4YW1wbGUuY29tghN3
          b3JrZXIyLmV4YW1wbGUuY29tghN3b3JrZXIzLmV4YW1wbGUuY29thwR/AAABhwQA
          AAAAhwQKAwABhwQKAwAKhwQKAwAyhwSsFAABhwSsFAAChwSsFAALhwSsFAAMhwSs
          FAANhwSsFAAzhwSsFAA0hwSsFAA1gRFhZG1pbkBleGFtcGxlLmNvbTANBgkqhkiG
          9w0BAQsFAAOCAQEAoInSNFna4TsM6t8jAnkC0dQ3lsTETaRwQSfuBRGoxWo7j7Dq
          yXn4mXdPPnrpGKkWTTcFae1Fsfy1W0m6sPPuxOdccWiQqpadn4onl0UYgt/Bk2rY
          paqKvGy+i229DPG72AfwqNnSsBhZz84AYF/iF5HVh+MkhhxUjqGL8Yp6UZPZCgbg
          906EDZJVO111MPlGJ4aFI2YrvX6BazMP5UuiaW794Ips969t49g2SsJWYBZtruD9
          YoiPxcpn5C6YmZHy4JnGwLmwcU/S2V72NIumj0as3LimULAmZvFMojE95Y4Ususk
          QO0RGsfHBZfCP7BoLXaQuB1PSlcR+QbOSphVxQ==
          -----END CERTIFICATE-----

    - path: /etc/kubernetes/ssl/etcd-node-key.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEogIBAAKCAQEAyubcGlaLxtYr4sZ9NF50AL/FnmE6eUNR50wJ2NNBFJh1V4o+
          UV/Wft+RMYLKKam8D+3OSdAc6BfvaDYrqluGBAlgiOb9r/Qja1VvW0yeKjWXnC2e
          3QMzc2yxyeECxrVM8dW8jxX42WOl0SCmNTID0XifOmkv+TykcQhR2lqfhOnZW9s2
          s7O+zZytsxxSf5+amNiMq/eeKVx0Ed9lhbPWgyh67MWSCpzmKCjh/I7zJKjN3TuG
          5R/nhQ7VbHYXP10KTKin9p+5GD/T8UadbRyuFCBfVvymvCeojVqO8nNVlsUYcZcy
          ANdXyy0DVZMP/Z319dCfQzR9sM/nQKIbvl77RwIDAQABAoIBAFLeAprHKgMlSXsu
          8cfHo70ClaVftE/+TJ8YkRT7AqN0uMft8BGwAJyElnoQHpzxc5tV1mCTHJs121NG
          fILxKkTPx5tiK84G+chGdlplalt209q3TyCYxBSqGdqHiWi6dxh14LLXmHDAn+JP
          YVJsgN62UuG6QBucxtRbP4LcbDYNyQmKuocDgeEEEvvvHXmEQhsLONB4OFc1estS
          nPb7gAViBNhaKYIGnBVfkEg7OltGs2lDMUas+xReb9p5T3kcocE78+lZs8OSKYBg
          K+sTRNEvd+rCyjiT4lVwURcnlN6HIbwETxh9zramFj6Ffwv9BqFjuKKQF04/lRU4
          D0fPuyECgYEA+XNoANtAJMDRpaDHkVNpNs5/ew55j9Lyug7uMLMbTErHw2SIdFEr
          cJMz2PVhRJMw9m7rZaorbDIMusPNl0RZkz7AocI9GZN0fdTO1TTIuC+PST8BQVDI
          PW1X/LTLfGVXfZlVsJvHrZ7Xcv/uwlV1o+8FOOaTz6Q2EsalIi8Zu0kCgYEA0DqX
          UyJTklrvOR4dCceFc9ia8xazjSXATaO0swm4b+QAIjqQ/zs7CXdjM3Uimcoi8Qtu
          RYTPAsf3S1UwOAiEdgXMbfwX0a5mZyFxysCSF3qDpbqvMm2hAJC13CPm5YLNQ+TE
          Ap70jDt5/trHxazwYc3EtF267P+pT8Ds/2BC8g8CgYBRy+gEr+BerOOR/iCypLlR
          gXEH9v0hjjiNjivIyFJhN/w9NBASpDMsXPiZYg0dIW7iwAhsc9p9RgQqkd4uhfkh
          cWhVIo5KfrGqOUgBXaebzeycRg6xTj369ontkZNQHSMNSmRw3wQhCH75dLbj/oXu
          1YfO2r0JT31ztrObe/piEQKBgCAMlJP4GZLSKjXJW8DQk8rD0P2PRe14nQOWKc7Q
          tTGLjzW1e/G8xRZs6LjX046GHSCqmLtceJw9+OMAZp6JORINTGy1O1lLlXlUHXaO
          cy3n7nFIrYR+eSRkIYmTgQtcOYm0oTKiEpOu59UBCXR0bL8w85CrSIUHyKB82j1o
          LIWjAoGAb03OlhPICFOskhtarqKv/B3ReAfEyh9mcpn7qhYsLsErh7tlg1h8prlF
          rlpxkY9YOqCjqd9PkCdPagHnEU82HJ/eQrpOvLrpfgKlMUObEGgZymMlkRvbLxLy
          BHWWoS+BnhAQsl8WHValXW9Hm3c2zQJCmJcypA3mmr41AO0Z++o=
          -----END RSA PRIVATE KEY-----

    - path: /var/lib/etcd/ssl/etcd-node.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIFiDCCBHCgAwIBAgIJAMZSQM9IPPJIMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBeMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMQ4wDAYDVQQDDAVhZG1pbjCCASIwDQYJKoZIhvcNAQEBBQADggEP
          ADCCAQoCggEBAMrm3BpWi8bWK+LGfTRedAC/xZ5hOnlDUedMCdjTQRSYdVeKPlFf
          1n7fkTGCyimpvA/tzknQHOgX72g2K6pbhgQJYIjm/a/0I2tVb1tMnio1l5wtnt0D
          M3NsscnhAsa1TPHVvI8V+NljpdEgpjUyA9F4nzppL/k8pHEIUdpan4Tp2VvbNrOz
          vs2crbMcUn+fmpjYjKv3nilcdBHfZYWz1oMoeuzFkgqc5igo4fyO8ySozd07huUf
          54UO1Wx2Fz9dCkyop/afuRg/0/FGnW0crhQgX1b8prwnqI1ajvJzVZbFGHGXMgDX
          V8stA1WTD/2d9fXQn0M0fbDP50CiG75e+0cCAwEAAaOCAkUwggJBMA4GA1UdDwEB
          /wQEAwIF4DAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwDAYDVR0TAQH/
          BAIwADAdBgNVHQ4EFgQU56zvVU3prpWbNx84pItcmVEAhU4wggHhBgNVHREEggHY
          MIIB1IIKa3ViZXJuZXRlc4ISa3ViZXJuZXRlcy5kZWZhdWx0ghZrdWJlcm5ldGVz
          LmRlZmF1bHQuc3ZjgiRrdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9j
          YWyCDmt1YmUtYXBpc2VydmVyggprdWJlLWFkbWlugglsb2NhbGhvc3SCC2V4YW1w
          bGUuY29tggdjb3Jlb3Mxggdjb3Jlb3Myggdjb3Jlb3Mzgg1jb3Jlb3MxLmxvY2Fs
          gg1jb3Jlb3MyLmxvY2Fsgg1jb3Jlb3MzLmxvY2FsghNjb3Jlb3MxLmV4YW1wbGUu
          Y29tghNjb3Jlb3MyLmV4YW1wbGUuY29tghNjb3Jlb3MzLmV4YW1wbGUuY29tggd3
          b3JrZXIxggd3b3JrZXIyggd3b3JrZXIzghN3b3JrZXIxLmV4YW1wbGUuY29tghN3
          b3JrZXIyLmV4YW1wbGUuY29tghN3b3JrZXIzLmV4YW1wbGUuY29thwR/AAABhwQA
          AAAAhwQKAwABhwQKAwAKhwQKAwAyhwSsFAABhwSsFAAChwSsFAALhwSsFAAMhwSs
          FAANhwSsFAAzhwSsFAA0hwSsFAA1gRFhZG1pbkBleGFtcGxlLmNvbTANBgkqhkiG
          9w0BAQsFAAOCAQEAoInSNFna4TsM6t8jAnkC0dQ3lsTETaRwQSfuBRGoxWo7j7Dq
          yXn4mXdPPnrpGKkWTTcFae1Fsfy1W0m6sPPuxOdccWiQqpadn4onl0UYgt/Bk2rY
          paqKvGy+i229DPG72AfwqNnSsBhZz84AYF/iF5HVh+MkhhxUjqGL8Yp6UZPZCgbg
          906EDZJVO111MPlGJ4aFI2YrvX6BazMP5UuiaW794Ips969t49g2SsJWYBZtruD9
          YoiPxcpn5C6YmZHy4JnGwLmwcU/S2V72NIumj0as3LimULAmZvFMojE95Y4Ususk
          QO0RGsfHBZfCP7BoLXaQuB1PSlcR+QbOSphVxQ==
          -----END CERTIFICATE-----

    - path: /var/lib/etcd/ssl/etcd-node-key.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEogIBAAKCAQEAyubcGlaLxtYr4sZ9NF50AL/FnmE6eUNR50wJ2NNBFJh1V4o+
          UV/Wft+RMYLKKam8D+3OSdAc6BfvaDYrqluGBAlgiOb9r/Qja1VvW0yeKjWXnC2e
          3QMzc2yxyeECxrVM8dW8jxX42WOl0SCmNTID0XifOmkv+TykcQhR2lqfhOnZW9s2
          s7O+zZytsxxSf5+amNiMq/eeKVx0Ed9lhbPWgyh67MWSCpzmKCjh/I7zJKjN3TuG
          5R/nhQ7VbHYXP10KTKin9p+5GD/T8UadbRyuFCBfVvymvCeojVqO8nNVlsUYcZcy
          ANdXyy0DVZMP/Z319dCfQzR9sM/nQKIbvl77RwIDAQABAoIBAFLeAprHKgMlSXsu
          8cfHo70ClaVftE/+TJ8YkRT7AqN0uMft8BGwAJyElnoQHpzxc5tV1mCTHJs121NG
          fILxKkTPx5tiK84G+chGdlplalt209q3TyCYxBSqGdqHiWi6dxh14LLXmHDAn+JP
          YVJsgN62UuG6QBucxtRbP4LcbDYNyQmKuocDgeEEEvvvHXmEQhsLONB4OFc1estS
          nPb7gAViBNhaKYIGnBVfkEg7OltGs2lDMUas+xReb9p5T3kcocE78+lZs8OSKYBg
          K+sTRNEvd+rCyjiT4lVwURcnlN6HIbwETxh9zramFj6Ffwv9BqFjuKKQF04/lRU4
          D0fPuyECgYEA+XNoANtAJMDRpaDHkVNpNs5/ew55j9Lyug7uMLMbTErHw2SIdFEr
          cJMz2PVhRJMw9m7rZaorbDIMusPNl0RZkz7AocI9GZN0fdTO1TTIuC+PST8BQVDI
          PW1X/LTLfGVXfZlVsJvHrZ7Xcv/uwlV1o+8FOOaTz6Q2EsalIi8Zu0kCgYEA0DqX
          UyJTklrvOR4dCceFc9ia8xazjSXATaO0swm4b+QAIjqQ/zs7CXdjM3Uimcoi8Qtu
          RYTPAsf3S1UwOAiEdgXMbfwX0a5mZyFxysCSF3qDpbqvMm2hAJC13CPm5YLNQ+TE
          Ap70jDt5/trHxazwYc3EtF267P+pT8Ds/2BC8g8CgYBRy+gEr+BerOOR/iCypLlR
          gXEH9v0hjjiNjivIyFJhN/w9NBASpDMsXPiZYg0dIW7iwAhsc9p9RgQqkd4uhfkh
          cWhVIo5KfrGqOUgBXaebzeycRg6xTj369ontkZNQHSMNSmRw3wQhCH75dLbj/oXu
          1YfO2r0JT31ztrObe/piEQKBgCAMlJP4GZLSKjXJW8DQk8rD0P2PRe14nQOWKc7Q
          tTGLjzW1e/G8xRZs6LjX046GHSCqmLtceJw9+OMAZp6JORINTGy1O1lLlXlUHXaO
          cy3n7nFIrYR+eSRkIYmTgQtcOYm0oTKiEpOu59UBCXR0bL8w85CrSIUHyKB82j1o
          LIWjAoGAb03OlhPICFOskhtarqKv/B3ReAfEyh9mcpn7qhYsLsErh7tlg1h8prlF
          rlpxkY9YOqCjqd9PkCdPagHnEU82HJ/eQrpOvLrpfgKlMUObEGgZymMlkRvbLxLy
          BHWWoS+BnhAQsl8WHValXW9Hm3c2zQJCmJcypA3mmr41AO0Z++o=
          -----END RSA PRIVATE KEY-----

    - path: /etc/kubernetes/ssl/worker.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIFiDCCBHCgAwIBAgIJAMZSQM9IPPJIMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBeMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMQ4wDAYDVQQDDAVhZG1pbjCCASIwDQYJKoZIhvcNAQEBBQADggEP
          ADCCAQoCggEBAMrm3BpWi8bWK+LGfTRedAC/xZ5hOnlDUedMCdjTQRSYdVeKPlFf
          1n7fkTGCyimpvA/tzknQHOgX72g2K6pbhgQJYIjm/a/0I2tVb1tMnio1l5wtnt0D
          M3NsscnhAsa1TPHVvI8V+NljpdEgpjUyA9F4nzppL/k8pHEIUdpan4Tp2VvbNrOz
          vs2crbMcUn+fmpjYjKv3nilcdBHfZYWz1oMoeuzFkgqc5igo4fyO8ySozd07huUf
          54UO1Wx2Fz9dCkyop/afuRg/0/FGnW0crhQgX1b8prwnqI1ajvJzVZbFGHGXMgDX
          V8stA1WTD/2d9fXQn0M0fbDP50CiG75e+0cCAwEAAaOCAkUwggJBMA4GA1UdDwEB
          /wQEAwIF4DAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwDAYDVR0TAQH/
          BAIwADAdBgNVHQ4EFgQU56zvVU3prpWbNx84pItcmVEAhU4wggHhBgNVHREEggHY
          MIIB1IIKa3ViZXJuZXRlc4ISa3ViZXJuZXRlcy5kZWZhdWx0ghZrdWJlcm5ldGVz
          LmRlZmF1bHQuc3ZjgiRrdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9j
          YWyCDmt1YmUtYXBpc2VydmVyggprdWJlLWFkbWlugglsb2NhbGhvc3SCC2V4YW1w
          bGUuY29tggdjb3Jlb3Mxggdjb3Jlb3Myggdjb3Jlb3Mzgg1jb3Jlb3MxLmxvY2Fs
          gg1jb3Jlb3MyLmxvY2Fsgg1jb3Jlb3MzLmxvY2FsghNjb3Jlb3MxLmV4YW1wbGUu
          Y29tghNjb3Jlb3MyLmV4YW1wbGUuY29tghNjb3Jlb3MzLmV4YW1wbGUuY29tggd3
          b3JrZXIxggd3b3JrZXIyggd3b3JrZXIzghN3b3JrZXIxLmV4YW1wbGUuY29tghN3
          b3JrZXIyLmV4YW1wbGUuY29tghN3b3JrZXIzLmV4YW1wbGUuY29thwR/AAABhwQA
          AAAAhwQKAwABhwQKAwAKhwQKAwAyhwSsFAABhwSsFAAChwSsFAALhwSsFAAMhwSs
          FAANhwSsFAAzhwSsFAA0hwSsFAA1gRFhZG1pbkBleGFtcGxlLmNvbTANBgkqhkiG
          9w0BAQsFAAOCAQEAoInSNFna4TsM6t8jAnkC0dQ3lsTETaRwQSfuBRGoxWo7j7Dq
          yXn4mXdPPnrpGKkWTTcFae1Fsfy1W0m6sPPuxOdccWiQqpadn4onl0UYgt/Bk2rY
          paqKvGy+i229DPG72AfwqNnSsBhZz84AYF/iF5HVh+MkhhxUjqGL8Yp6UZPZCgbg
          906EDZJVO111MPlGJ4aFI2YrvX6BazMP5UuiaW794Ips969t49g2SsJWYBZtruD9
          YoiPxcpn5C6YmZHy4JnGwLmwcU/S2V72NIumj0as3LimULAmZvFMojE95Y4Ususk
          QO0RGsfHBZfCP7BoLXaQuB1PSlcR+QbOSphVxQ==
          -----END CERTIFICATE-----
          -----BEGIN CERTIFICATE-----
          MIIDhTCCAm2gAwIBAgIJAPdp2fqmRedeMA0GCSqGSIb3DQEBCwUAMGAxCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxEDAOBgNVBAMMB0t1YmUtQ0EwHhcNMTgx
          MjI0MjE1ODI0WhcNMjgxMjIxMjE1ODI0WjBgMQswCQYDVQQGEwJVUzELMAkGA1UE
          CAwCTlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoG
          A1UECwwDT3BzMRAwDgYDVQQDDAdLdWJlLUNBMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEAozecwrUpvaWzE0uykH4LLRX+C3fiJDVSmkwS+vlYbiuyiKmK
          SrWQnfI7ahytZgqcgT686MOTdSaAioZF6BHtlNDqwmtH2s7OrBjRMf07arYla1og
          6eu5cz+/GcL/2K7ysq7nr0WAm7SS52seAyA0bg9vHy5LWLEZ10B8sMTliIBkyJoe
          SH65MFDiCkn0sWB/bgYQiMq/3Z9kUAf/lX7PQRVOxEru3d4gpbsK+3GD6yTPXT4B
          3z+8PjYeIw5QNphdM3zOFd9NidwyGYwk5DLBsHQRAqhsm1lhBC3+JiaJ5knFdzje
          yPg55DyfKnYjRgEUn9VxyqIfHwl9W8HcZoVzOwIDAQABo0IwQDAOBgNVHQ8BAf8E
          BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUaPVBptTGkvBrW2aDMKjr
          Pvs6dEYwDQYJKoZIhvcNAQELBQADggEBAH4yCCAGcurjSa4UzXGL6Z+kd1M3u9at
          ZbpOVvBKpCaHj7Lsgoz9neKHHVboRRbdv9KYkNRqmotz4tpvZQ9nXwaTXjdzw7+X
          /OgpnTFR8dx8zjnoB8UfN0atdRaaTzDa0XuDTJh7jqPQDX+BVu3UZKb6y4L7CrpN
          RHiTpYE1AFCEFrtptdyFHANWJb+PN+6tEpSt7l+2vv6/Ej+nCXiG1surm5yfllj6
          ugT0hxfPMefWWE5lxloR6atG87rJsonuRVWOao1uz+TLeGEPRAGQSlXPT6ux9hko
          m3vmP/B6qA48oVaJYYg3XN0WzWX6W+qy5mNuxAzBcvkD08WCBmV4lwQ=
          -----END CERTIFICATE-----

    - path: /etc/kubernetes/ssl/worker-key.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEogIBAAKCAQEAyubcGlaLxtYr4sZ9NF50AL/FnmE6eUNR50wJ2NNBFJh1V4o+
          UV/Wft+RMYLKKam8D+3OSdAc6BfvaDYrqluGBAlgiOb9r/Qja1VvW0yeKjWXnC2e
          3QMzc2yxyeECxrVM8dW8jxX42WOl0SCmNTID0XifOmkv+TykcQhR2lqfhOnZW9s2
          s7O+zZytsxxSf5+amNiMq/eeKVx0Ed9lhbPWgyh67MWSCpzmKCjh/I7zJKjN3TuG
          5R/nhQ7VbHYXP10KTKin9p+5GD/T8UadbRyuFCBfVvymvCeojVqO8nNVlsUYcZcy
          ANdXyy0DVZMP/Z319dCfQzR9sM/nQKIbvl77RwIDAQABAoIBAFLeAprHKgMlSXsu
          8cfHo70ClaVftE/+TJ8YkRT7AqN0uMft8BGwAJyElnoQHpzxc5tV1mCTHJs121NG
          fILxKkTPx5tiK84G+chGdlplalt209q3TyCYxBSqGdqHiWi6dxh14LLXmHDAn+JP
          YVJsgN62UuG6QBucxtRbP4LcbDYNyQmKuocDgeEEEvvvHXmEQhsLONB4OFc1estS
          nPb7gAViBNhaKYIGnBVfkEg7OltGs2lDMUas+xReb9p5T3kcocE78+lZs8OSKYBg
          K+sTRNEvd+rCyjiT4lVwURcnlN6HIbwETxh9zramFj6Ffwv9BqFjuKKQF04/lRU4
          D0fPuyECgYEA+XNoANtAJMDRpaDHkVNpNs5/ew55j9Lyug7uMLMbTErHw2SIdFEr
          cJMz2PVhRJMw9m7rZaorbDIMusPNl0RZkz7AocI9GZN0fdTO1TTIuC+PST8BQVDI
          PW1X/LTLfGVXfZlVsJvHrZ7Xcv/uwlV1o+8FOOaTz6Q2EsalIi8Zu0kCgYEA0DqX
          UyJTklrvOR4dCceFc9ia8xazjSXATaO0swm4b+QAIjqQ/zs7CXdjM3Uimcoi8Qtu
          RYTPAsf3S1UwOAiEdgXMbfwX0a5mZyFxysCSF3qDpbqvMm2hAJC13CPm5YLNQ+TE
          Ap70jDt5/trHxazwYc3EtF267P+pT8Ds/2BC8g8CgYBRy+gEr+BerOOR/iCypLlR
          gXEH9v0hjjiNjivIyFJhN/w9NBASpDMsXPiZYg0dIW7iwAhsc9p9RgQqkd4uhfkh
          cWhVIo5KfrGqOUgBXaebzeycRg6xTj369ontkZNQHSMNSmRw3wQhCH75dLbj/oXu
          1YfO2r0JT31ztrObe/piEQKBgCAMlJP4GZLSKjXJW8DQk8rD0P2PRe14nQOWKc7Q
          tTGLjzW1e/G8xRZs6LjX046GHSCqmLtceJw9+OMAZp6JORINTGy1O1lLlXlUHXaO
          cy3n7nFIrYR+eSRkIYmTgQtcOYm0oTKiEpOu59UBCXR0bL8w85CrSIUHyKB82j1o
          LIWjAoGAb03OlhPICFOskhtarqKv/B3ReAfEyh9mcpn7qhYsLsErh7tlg1h8prlF
          rlpxkY9YOqCjqd9PkCdPagHnEU82HJ/eQrpOvLrpfgKlMUObEGgZymMlkRvbLxLy
          BHWWoS+BnhAQsl8WHValXW9Hm3c2zQJCmJcypA3mmr41AO0Z++o=
          -----END RSA PRIVATE KEY-----

    - path: /etc/profile.d/aliases.sh
      filesystem: root
      mode: 0755
      contents:
        inline: |
          dps () { docker ps -a ; }
          dl () { docker logs -f $1 & }
          drm () { docker stop $1 && docker rm $1; }
          PATH=$PATH:/opt/bin
    - path: /etc/flannel/options.env
      filesystem: root
      mode: 0644
      contents:
        inline: |
          # ETCDCTL parameters
          ADVERTISE_IP=${ADVERTISE_IP}
          ETCDCTL_CA_FILE=/etc/ssl/certs/ca.pem
          ETCDCTL_CERT_FILE=/var/lib/etcd/ssl/etcd-node.pem
          ETCDCTL_KEY_FILE=/var/lib/etcd/ssl/etcd-node-key.pem
          ETCDCTL_ENDPOINTS="https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
          FLANNELD_IFACE="enp0s3"
          FLANNELD_ETCD_ENDPOINTS=${ETCDCTL_ENDPOINTS}
          FLANNELD_ETCD_PREFIX="/coreos.com/network"
          #HTTP_PROXY=
          #HTTPS_PROXY=
          ##http_proxy=
          ##https_proxy=
          no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock
    - path: /etc/systemd/system/docker.service.d/40-flannel.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Unit]
          Requires=flanneld.service
          After=flanneld.service
          [Service]
          EnvironmentFile=/etc/kubernetes/cni/docker_opts_cni.env
    - path: /etc/kubernetes/cni/docker_opts_cni.env
      filesystem: root
      mode: 0644
      contents:
        inline: |
          DOCKER_OPT_BIP=""
          DOCKER_OPT_IPMASQ=""
    - path: /etc/kubernetes/cni/net.d/10-containernet.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          {
              "name": "podnet",
              "type": "flannel",
              "delegate": {
                  "forceAddress": true,
                  "isDefaultGateway": true,
                  "hairpinMode": true
              }
          }
    - path: /etc/systemd/system/flanneld.service.d/40-ExecStartPre-symlink.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Service]
          ExecStartPre=/usr/bin/ln -sf /etc/flannel/options.env /run/flannel/options.env
          ExecStartPre=/usr/bin/ln -sf /etc/kubernetes/cni/net.d /etc/rkt/net.d
          ExecStartPre=/usr/bin/ln -sf /etc/kubernetes/ssl /etc/kubernetes/pki
    - path: /etc/kubernetes/kubelet.env
      filesystem: root
      mode: 0644
      contents:
        inline: |
          KUBELET_IMAGE_URL=gcr.io/google_containers/hyperkube
          KUBELET_VERSION=v1.13.1
    - path: /etc/kubernetes/ssl/worker-kubeconfig.yaml 
      filesystem: root
      mode: 0644
      contents:
        inline: |
          apiVersion: v1
          kind: Config
          clusters:
          - name: local
            cluster:
              server: https://172.20.0.11:443
              certificate-authority: /etc/kubernetes/ssl/ca.pem
          users:
          - name: kubelet
            user:
              client-certificate: /etc/kubernetes/ssl/etcd-node.pem
              client-key: /etc/kubernetes/ssl/etcd-node-key.pem
          contexts:
          - context:
              cluster: local
              user: kubelet
    - path: /etc/kubernetes/ssl/kubeconfig.yaml 
      filesystem: root
      mode: 0644
      contents:
        inline: |
          apiVersion: v1
          kind: Config
          clusters:
          - name: local
            cluster:
              server: https://172.20.0.11:443
              certificate-authority: /etc/kubernetes/ssl/ca.pem
          users:
          - name: kubelet
            user:
              client-certificate: /etc/kubernetes/ssl/etcd-node.pem
              client-key: /etc/kubernetes/ssl/etcd-node-key.pem
          contexts:
          - context:
              cluster: local
              user: kubelet
    - path: /etc/kubernetes/ssl/bootstrap-kubeconfig.yaml
      filesystem: root
      mode: 0644
      contents:
        inline: |
          apiVersion: v1
          kind: Config
          clusters:
          - name: local
            cluster:
              certificate-authority: /etc/kubernetes/ssl/ca.pem
              server: https://172.20.0.11:443
          contexts:
          - context:
              cluster: local
              user: tls-bootstrap-token-user
            name: tls-bootstrap-token-user@kubernets
          current-context: tls-bootstrap-token-user@kubernets
          preferences: {}
          users:
          - name: tls-bootstrap-token-user
            user:
              token: d6759f25863342e68afb0b2eab2027cd
    - path: /etc/kubernetes/ssl/token-bootstrap-auth.csv
      filesystem: root
      mode: 0644
      contents:
        inline: |
          d6759f25863342e68afb0b2eab2027cd,kubelet-bootstrap,10001,'system:node-bootstrapper'
    - path: /etc/kubernetes/config.yaml
      filesystem: root
      mode: 0644
      contents:
        inline: |
          address: 0.0.0.0
          apiVersion: kubelet.config.k8s.io/v1beta1
          authentication:
            anonymous:
              enabled: false
            webhook:
              cacheTTL: 2m0s
              enabled: true
            x509:
              clientCAFile: /etc/kubernetes/ssl/ca.pem
          authorization:
            mode: Webhook
            webhook:
              cacheAuthorizedTTL: 5m0s
              cacheUnauthorizedTTL: 30s
          cgroupDriver: cgroupfs
          cgroupsPerQOS: true
          clusterDNS:
          - 10.3.0.10
          clusterDomain: cluster.local
          containerLogMaxFiles: 5
          containerLogMaxSize: 10Mi
          contentType: application/vnd.kubernetes.protobuf
          cpuCFSQuota: true
          cpuManagerPolicy: none
          cpuManagerReconcilePeriod: 10s
          enableControllerAttachDetach: true
          enableDebuggingHandlers: true
          enforceNodeAllocatable:
          - pods
          eventBurst: 10
          eventRecordQPS: 5
          evictionHard:
            imagefs.available: 15%
            memory.available: 100Mi
            nodefs.available: 10%
            nodefs.inodesFree: 5%
          evictionPressureTransitionPeriod: 5m0s
          failSwapOn: true
          fileCheckFrequency: 20s
          hairpinMode: promiscuous-bridge
          healthzBindAddress: 127.0.0.1
          healthzPort: 10248
          httpCheckFrequency: 20s
          imageGCHighThresholdPercent: 85
          imageGCLowThresholdPercent: 80
          imageMinimumGCAge: 2m0s
          iptablesDropBit: 15
          iptablesMasqueradeBit: 14
          kind: KubeletConfiguration
          tlsCertFile: "/etc/kubernetes/ssl/etcd-node.pem"
          tlsPrivateKeyFile: "/etc/kubernetes/ssl/etcd-node-key.pem"
          RotateCertificates: true
          ServerTLSBootstrap: true
          kubeAPIBurst: 10
          kubeAPIQPS: 5
          makeIPTablesUtilChains: true
          maxOpenFiles: 1000000
          maxPods: 110
          nodeStatusUpdateFrequency: 10s
          oomScoreAdj: -999
          podPidsLimit: -1
          port: 10250
          registryBurst: 10
          registryPullQPS: 5
          resolvConf: /etc/resolv.conf
          rotateCertificates: true
          runtimeRequestTimeout: 2m0s
          serializeImagePulls: true
          staticPodPath: /etc/kubernetes/manifests
          streamingConnectionIdleTimeout: 4h0m0s
          syncFrequency: 1m0s
          volumeStatsAggPeriod: 1m0s
    - path: /etc/kubernetes/manifests/kube-proxy.yaml
      filesystem: root
      mode: 0644
      contents:
        inline: |
          --- 
          apiVersion: v1
          kind: Pod
          metadata: 
            labels: 
              k8s-app: kube-proxy
              tier: node
            name: kube-proxy
            namespace: kube-system
          spec: 
            containers: 
              - 
                command: 
                  - ./hyperkube
                  - proxy
                  - "--master=https://172.20.0.11:443"
                  - "--kubeconfig=/etc/kubernetes/ssl/worker-kubeconfig.yaml"
                  - "--logtostderr=true"
                  - "--proxy-mode=iptables"
                  - "--hostname-override=172.20.0.51"
                  - "--cluster-cidr=10.20.0.0/20"
                  - "--v=3"
                env: 
                  - 
                    name: NODE_NAME
                    valueFrom: 
                      fieldRef: 
                        fieldPath: spec.nodeName
                image: "gcr.io/google_containers/hyperkube:v1.13.1"
                name: kube-proxy
                securityContext: 
                  privileged: true
                volumeMounts: 
                  - 
                    mountPath: /etc/ssl/certs
                    name: ssl-certs-host
                    readOnly: true
                  -
                    mountPath: /etc/kubernetes/ssl
                    name: "kube-ssl"
                    readOnly: true
            hostNetwork: true
            tolerations: 
              - 
                effect: NoSchedule
                key: node-role.kubernetes.io/master
                operator: Exists
            volumes: 
              - 
                hostPath: 
                  path: /usr/share/ca-certificates
                name: ssl-certs-host
              - 
                hostPath:
                  path: "/etc/kubernetes/ssl"
                name: "kube-ssl"


passwd:
  users:
    - name: usera
      password_hash: "$6$2a48948005e144c1$8ZTzX/DG6c49jZi1lplPGv.xqicD95RXIWU5.MB81rlgsn4V6jnrDOxtRfHb59vj9IO12LMOrK.GiSnTEaslz/"
      ssh_authorized_keys:
        - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDCkOhUhPzzbYHKX9wHTi7zT+Xwpcje2nnhkqjXInjPKbNAOyHH3gNkaBKHAmZEGLi5Va3O4GtZUqVUcsAhJi8bCyA1Fqbz0JCvuDuwh1S3vvLM3uJmUqW69ooWthJziLUR2V6Y/rqAo+m/xjF8LHlZXuGnQzq4lBcr03t2onUntIUXXTQnZ3Zx8hGaVeeADur4L++As/W+x39nVm7n+d3JNJXf8MFaX5EtgAkvjWu0e1IaMQUJ8L02GnI7HSyrn4XTqeopzvQb/QS0ReebtM3OthlBOb42K7NOEp8fJt0g9n1WBPAQvfW0R6QaSrvWDjHVMcI4UsSMyW/HOvETt3CT"
      home_dir: /home/usera
      groups:
        - sudo
        - docker
      shell: /bin/bash

systemd:
  units:
    - name: docker-tcp.socket
      enabled: false
      contents: |
        [Unit]
        Description=Docker Socket for the API

        [Socket]
        ListenStream=2375
        BindIPv6Only=both
        Service=docker.service

        [Install]
        WantedBy=sockets.target

    - name: docker.service
      enabled: false
      dropins:
        - name: 50-insecure-registry.conf
          contents: |
            [Service]
            Environment=DOCKER_OPTS=''
            #Environment=#HTTP_PROXY=
            #Environment=#HTTPS_PROXY=
            #Environment=##http_proxy=
            #Environment=##https_proxy=
            #Environment=no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock

    - name: flanneld.service
      dropins:
        - name: 50-network-config.conf
          contents: |
            [Service]
            EnvironmentFile=/etc/flannel/options.env
            # Used in master config
            #ExecStartPre=/usr/bin/etcdctl set /coreos.com/network/config '{ "Network": "10.20.0.0/20", "SubnetLen": 24, "Backend": { "Type": "vxlan", "VNI": 1 } }'
            # VXlan/VNI/VLan example
            #ExecStartPre=/usr/bin/etcdctl ${CA} ${CERT} ${KEY} ${EP} set /coreos.com/network/red-db/config '{ "Network": "10.220.0.0/16", "SubnetLen": 24, "SubnetMin": "10.220.110.0", "SubnetMax": "10.220.200.0", "Backend": { "Type": "vxlan", "VNI": 6 } }'
            #ExecStartPre=/usr/bin/etcdctl ${CA} ${CERT} ${KEY} ${EP} set /coreos.com/network/red-app/config '{ "Network": "10.220.0.0/16", "SubnetLen": 24, "SubnetMin": "10.220.110.0", "SubnetMax": "10.220.200.0", "Backend": { "Type": "vxlan", "VNI": 5 } }'
            # This is needed for rkt to start due to some bug
            ExecStartPre=/usr/bin/rkt trust --skip-fingerprint-review --prefix=coreos.com/rkt/stage1-coreos
            ExecStartPre=/usr/bin/rkt image fetch coreos.com/rkt/stage1-coreos:1.29.0
            Restart=always

    - name: flanneld.service
      dropins:
        - name: 50-ssl.conf
          contents: |
            [Service]
            Environment="ETCD_SSL_DIR=/var/lib/etcd/ssl"

    - name: rkt-api-tcp.socket
      enabled: true
      contents: |
        [Unit]
        Description=rkt api service socket
        PartOf=rkt-api.service

        [Socket]
        ListenStream=127.0.0.1:15441
        Service=rkt-api.service
        BindIPv6Only=both

        [Install]
        WantedBy=sockets.target

    - name: rkt-api.service
      enabled: true
      contents: |
        [Unit]
        Description=rkt api service
        Documentation=http://github.com/rkt/rkt
        After=network.target rkt-api-tcp.socket
        Requires=rkt-api-tcp.socket

        [Service]
        ExecStart=/usr/bin/rkt api-service --local-config=/etc/rkt

        [Install]
        WantedBy=multi-user.target

    - name: rkt-gc.service
      enabled: true
      contents: |
        [Unit]
        Description=Garbage Collection for rkt

        [Service]
        Environment=GRACE_PERIOD=24h
        Type=oneshot
        ExecStart=/usr/bin/rkt gc --grace-period=${GRACE_PERIOD}

    - name: rkt-gc.timer
      enabled: true
      contents: |
        [Unit]
        Description=Periodic Garbage Collection for rkt

        [Timer]
        OnActiveSec=0s
        OnUnitActiveSec=12h

        [Install]
        WantedBy=multi-user.target

    - name: rkt-metadata.service
      enabled: true
      contents: |
        [Unit]
        Description=rkt metadata service
        Documentation=http://github.com/rkt/rkt
        After=network.target rkt-metadata.socket
        Requires=rkt-metadata.socket

        [Service]
        ExecStart=/usr/bin/rkt metadata-service

        [Install]
        WantedBy=multi-user.target

    - name: rkt-metadata.socket
      enabled: true
      contents: |
        [Unit]
        Description=rkt metadata service socket
        PartOf=rkt-metadata.service

        [Socket]
        ListenStream=/run/rkt/metadata-svc.sock
        SocketMode=0660
        SocketUser=root
        SocketGroup=root
        RemoveOnStop=true

        [Install]
        WantedBy=sockets.target

    - name: kubelet.service
      enabled: true
      contents: |
        [Unit]
        Description=The primary agent to run pods
        Documentation=http://kubernetes.io/docs/admin/kubelet/
        Requires=etcd-member.service
        After=flanneld.service

        [Service]
        Slice=system.slice
        Environment=RKT_GLOBAL_ARGS="--insecure-options=image"
        Environment=KUBELET_IMAGE_URL=docker://gcr.io/google_containers/hyperkube
        Environment=KUBELET_IMAGE_TAG=v1.13.1
        Environment=#HTTP_PROXY=
        Environment=#HTTPS_PROXY=
        #Environment=##http_proxy=
        #Environment=##https_proxy=
        Environment=no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock
        ExecStart=/usr/lib/coreos/kubelet-wrapper \
          --register-node=true \
          --hostname-override=worker1 \
          --kubeconfig=/etc/kubernetes/ssl/kubeconfig.yaml \
          --config=/etc/kubernetes/config.yaml \
          --network-plugin=cni \
          --cni-conf-dir=/etc/kubernetes/cni/net.d \
          --lock-file=/var/run/lock/kubelet.lock \
          --exit-on-lock-contention \
          --logtostderr=true \
          --v=2
        Restart=always
        StartLimitInterval=0
        RestartSec=10
 
        [Install]
        WantedBy=multi-user.target

    - name: settimezone.service
      enabled: true
      contents: |
        [Unit]
        Description=Set the time zone

        [Service]
        ExecStart=/usr/bin/timedatectl set-timezone America/New_York
        RemainAfterExit=yes
        Type=oneshot

networkd:
  units:
    - name: 00-eno0.network
      contents: |
        [Match]
        Name=enp0s3

        [Network]
        Address=172.20.0.51/20
        Gateway=172.20.0.1
        DNS=8.8.8.8
        DNS=8.8.4.4
        Domains=example.com

flannel:
  version:        0.10.0
  etcd_prefix:    "/coreos.com/network"
  etcd_endpoints: "https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
  etcd_cafile:    /etc/ssl/certs/ca.pem
  etcd_certfile:  /var/lib/etcd/ssl/etcd-node.pem
  etcd_keyfile:   /var/lib/etcd/ssl/etcd-node-key.pem
  interface:      enp0s3

update:
  group:  "alpha"
locksmith:
  reboot_strategy: "reboot"
  etcd_endpoints:  "https://172.20.0.51:2379"
  etcd_cafile: /etc/ssl/certs/ca.pem
  etcd_certfile: /var/lib/etcd/ssl/etcd-node.pem
  etcd_keyfile: /var/lib/etcd/ssl/etcd-node-key.pem
