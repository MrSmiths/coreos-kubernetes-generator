---
storage:
  files:
    - filesystem: "root"
      path:       "/etc/metadata/coreos"
      mode:       0644
      contents:
        inline: |
          COREOS_VAGRANT_VIRTUALBOX_PRIVATE_IPV4=172.20.0.52
          COREOS_VAGRANT_VIRTUALBOX_HOSTNAME=worker2
    - filesystem: "root"
      path:       "/etc/hostname"
      mode:       0644
      contents:
        inline: worker2
    - filesystem: "root"
      path:       "/etc/hosts"
      mode:       0644
      contents:
        inline: |
          127.0.0.1	localhost
          ::1		localhost
          172.20.0.11 coreos1 coreos1.example.com
          172.20.0.12 coreos2 coreos2.example.com
          172.20.0.13 coreos3 coreos3.example.com
    - path: /etc/docker/ca.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIDfzCCAmegAwIBAgIJAKtDaK2a6vroMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBdMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMQ0wCwYDVQQDDARFdGNkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB
          CgKCAQEAtOO+RhYZyOplfA/G5VaiKMUa/YRmeboLtjJZr20uwfTFc7+GzFpvf8RF
          /L+AR3XlNKauRoCGYCwVg0bLY+IizobqBgecFkNsl5sRbGVPrNceIYEIiGUSOT8K
          Xr67b2QsDqgFHEJXngpKuYrhbyyb3SHAm+Ux9DmecuQ4tOxAW5sXpINhBoLpZKtU
          +vr3ItCmfjOKERos8+GKMzD2ruPUW3dQzG/P3P35+DWDalBrP7XUCAgRMDeLAaCP
          j3dEDyU4jr6UyohyMkzC6JTICkywtTH6zcbHv5H25H4H8atRVtOf3abUHF6HPpIU
          HtUjhBagpOdGGvVrHVkWM+RZiooHmwIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAQYw
          DwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUsr5AcLRr6pxxwVC5gfW7NJQx3Xcw
          DQYJKoZIhvcNAQELBQADggEBACx3/ZRqAUlBU/TavQms4ao3CtLtvKcJWQ+nUm8Z
          tjBW1rkOxdmI00+peRpP8Z3hvHVa9sP4s8OSrqRHupzaAaQay0xnIAnPjAtO4N42
          wBzz71jAhyzyLm4QxdbgvPH+qJxM8i7e8MXtNYffzLOcjuYf0JfjWJXOWWs9Dbgi
          RQwjQh94IFrjF22b37Wrn4arChNwQgBBobWOp30R1Mfdbgp4sxJSbewAVNKzmsUh
          +3UTcworDMe4rOn1rd6OitsDSFYs7DO+1GeRM6SNzJ4Lf+Vv+XXvHkQ35z1JNDlC
          p0HMVYpgDzLWU+aEVOG0azwZXex4A4bdTSbldvCtT9kHcSA=
          -----END CERTIFICATE-----

    - path: /etc/docker/server.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIFiTCCBHGgAwIBAgIJAJUXSmYDMxBlMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBiMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMRIwEAYDVQQDDAlldGNkLW5vZGUwggEiMA0GCSqGSIb3DQEBAQUAA4IB
          DwAwggEKAoIBAQCwOCkXAUGK/L2pC3smRnW62su9O9M+CApNXSI3Z42KMByaUTso
          H5MbjRCr6rMxKVYZhRifjozphV2dBtka78GK9gMAkHOJflIcdYFPIbyApfdlj6Y+
          vyiLzQFNxiWxFSZ8Z2bUaCG4u0MlEjag7ncWz1wzBlKcvNcNIk2ny7HuqDjKd88c
          6spW6iKZQZ31GZzSj5KKvp2gphdOPdlA2hEmkGX+z4dRV26BXyp4k/3u5GbuE3KT
          BmFBaadHiLnxPHcIxE8FX1z6Fvf8WFgarm5xu/mCmyR5k6N/7slrtj09ndEJPWlD
          lG6VpgvLKmxEfp7II9S0IClENbTAqnr6qAZXAgMBAAGjggJFMIICQTAOBgNVHQ8B
          Af8EBAMCBeAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMAwGA1UdEwEB
          /wQCMAAwHQYDVR0OBBYEFKWb075VcQvlLjR+38pTVOHNRfi2MIIB4QYDVR0RBIIB
          2DCCAdSCCmt1YmVybmV0ZXOCEmt1YmVybmV0ZXMuZGVmYXVsdIIWa3ViZXJuZXRl
          cy5kZWZhdWx0LnN2Y4Ika3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxv
          Y2Fsgg5rdWJlLWFwaXNlcnZlcoIKa3ViZS1hZG1pboIJbG9jYWxob3N0ggtibmgu
          ZXhhbXBsZYIHY29yZW9zMYIHY29yZW9zMoIHY29yZW9zM4INY29yZW9zMS5sb2Nh
          bIINY29yZW9zMi5sb2NhbIINY29yZW9zMy5sb2NhbIITY29yZW9zMS5leGFtcGxl
          LmNvbYITY29yZW9zMi5leGFtcGxlLmNvbYITY29yZW9zMy5leGFtcGxlLmNvbYIH
          d29ya2VyMYIHd29ya2VyMoIHd29ya2VyM4ITd29ya2VyMS5leGFtcGxlLmNvbYIT
          d29ya2VyMi5leGFtcGxlLmNvbYITd29ya2VyMy5leGFtcGxlLmNvbYcEfwAAAYcE
          AAAAAIcECgMAAYcECgMACocECgMAMocErBQAAYcErBQAAocErBQAC4cErBQADIcE
          rBQADYcErBQAM4cErBQANIcErBQANYERYWRtaW5AZXhhbXBsZS5jb20wDQYJKoZI
          hvcNAQELBQADggEBAEHDhUganq2e3zEjSmxGSjNv9QbUgBk05QIxOt8YJtBmEwx0
          eSQxE9E8cglWQNr4kL86Z7JpBcZqYc31N0NYiWLimsHrX5udFfCFUZ+c42xtXil6
          cg/J0epk20q2NLkSsmUl/DT4P6JJl4zrUi7Rf2fQdyUx+SuHcXF0eRKTGG9y6Rx6
          /myWDGpn3peCq8DfO4b+QyOhchH+HWbrcA7XlxZHWbU4CWDLV8eCNAay9zvhK0SM
          u2PYROxnd2qkFraMXu1tYWxG84BWsbgycpOnGztpJR8JS3UF2c65fWF7InA6nXKT
          1x3f+5z5VNAKUZhorIeuH1E0Sb/C6izjLOgCBIs=
          -----END CERTIFICATE-----

    - path: /etc/docker/server-key.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEAsDgpFwFBivy9qQt7JkZ1utrLvTvTPggKTV0iN2eNijAcmlE7
          KB+TG40Qq+qzMSlWGYUYn46M6YVdnQbZGu/BivYDAJBziX5SHHWBTyG8gKX3ZY+m
          Pr8oi80BTcYlsRUmfGdm1GghuLtDJRI2oO53Fs9cMwZSnLzXDSJNp8ux7qg4ynfP
          HOrKVuoimUGd9Rmc0o+Sir6doKYXTj3ZQNoRJpBl/s+HUVdugV8qeJP97uRm7hNy
          kwZhQWmnR4i58Tx3CMRPBV9c+hb3/FhYGq5ucbv5gpskeZOjf+7Ja7Y9PZ3RCT1p
          Q5RulaYLyypsRH6eyCPUtCApRDW0wKp6+qgGVwIDAQABAoIBAB/UpSdwpKQ0bxXf
          6wjI5W8xImg2LDwiO6opzopvfBOgCSqeza67tVjerEpBhMi2jMTjU8VOfImZ+4Tn
          vcOt1yoAsh4h+Zy2YqKdXxQqJeCfGgcQYZkn8mz+ROQFjL1l8qO6EcsAXEcAHGrP
          1WpQaNaH8kGNPNLvEXFf5uMOWj+fenFlc/2cizswjsKOW+chWrhT+hGEUgdCTR0s
          VD48XnwZ6vVLr0TdA6QESNu2QORvQ95yHIZOVmDOZZ/HGyxGNLkO1e8gOxwABF0G
          WRiPFCKxXX5sMBxuz4CbIP9+7NyO6lzNRZ2wHQ3CgMk7zOLMBe7BxBXeL0IAdf9H
          b2SGzsECgYEA4gLqTVx2qsTlMQ8Rn9qOvXHgG475bpnp1mTeumXM+wP1Ef6JyyDf
          foUCg5syBPX7t5Pe9nJyTsR5nAQk8ttf6ALpwfVAXb2bFaHy0b9kX1ulrHWVqv0e
          Nw7ModgISJFnsawyMz+pnUNpQDSHLC2O83q1E3iMLFlMRFFPUUABvXECgYEAx5ns
          +VwZzEaNOiIlTL6FeDBQ9ClZETFJalBR5gMhklcw0oajUSz1hrEQd/szmErdhQ9A
          kvRbknwkdFCm4cjNcVNeRU+nDuNR92/VXj5k5wqMza69+EiJwLTktEHk9nUHTjW8
          qLHriXEKnOIvCJYSusTwv2yTOnWJNO2HvWMmPEcCgYBHC3WNdehTi+sjvcHjhvdh
          s78nyoy76KPp4fFllISXz0mlK2czNBUtFzCQICPcDVrf/RqUS6uE+RvlICRhNvZx
          3yCN+MMP9H8gkLTcnBY4J33vtVKj2kc6NWu74EXSUerPnfp1w6hUqBEYvqpTB8ss
          3EC5ayZc9oET5J9TQhSJ8QKBgQC0YuvDP/Ugo/ImQ42qGdTNlfzTbDrOStiqeARL
          9zBz7NB2sq8OQa9zFrpndGJgk+g2xF37cVMAw6i+ZdUr4Cmq7UkZIq87yTzeffc6
          wPC3zNULXYzZwdScj97Q+WxPP9xmVjI10vWmtL5+ofsXq2kp2aoplZpJDsf9SV2P
          TvfTKQKBgCG8gEPHkZPDAqLzuxOnxdBVdKUjGQ1VLfVW0VQ0kXMi5eJ34ZgX6zfs
          kEdmA8+s3R500gGCi4iCEOzZCO3gfzFlAFiX2rdV9cDMpUho266xnDRO5/QqNAZe
          lGXw9jnGyUIe2fDoHKEKD9bjkr7qFoqXoEW01Png54qxjidDKkrP
          -----END RSA PRIVATE KEY-----

    - path: "/etc/motd"
      filesystem: root
      mode: 0644
      contents:
        inline: | 
          Just another day!!
    - path: /etc/environment
      filesystem: root
      mode: 0644
      contents:
        inline: |
          COREOS_VAGRANT_VIRTUALBOX_PRIVATE_IPV4=172.20.0.52
          COREOS_VAGRANT_VIRTUALBOX_HOSTNAME=worker2
          ADVERTISE_IP=172.20.0.52
          COREOS_PRIVATE_IPV4=172.20.0.52
          ETCDCTL_SSL_DIR=/var/lib/etcd/ssl
          ETCD_SSL_DIR=/var/lib/etcd/ssl
          ETCDCTL_CA_FILE=/etc/ssl/certs/ca.pem
          ETCDCTL_CERT_FILE=/var/lib/etcd/ssl/etcd-node.pem
          ETCDCTL_KEY_FILE=/var/lib/etcd/ssl/etcd-node-key.pem
          ETCDCTL_ENDPOINTS="https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
          ETCD_ENDPOINTS="https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
          FLANNELD_ETCD_ENDPOINTS="https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
          FLANNELD_IFACE="enp0s3"
          FLANNELD_ETCD_PREFIX="/coreos.com/network"
          LOCKSMITHCTL_ETCD_CAFILE=/etc/ssl/certs/ca.pem
          LOCKSMITHCTL_ETCD_CERTFILE=/var/lib/etcd/ssl/etcd-node.pem
          LOCKSMITHCTL_ETCD_KEYFILE=/var/lib/etcd/ssl/etcd-node-key.pem
          LOCKSMITHCTL_ENDPOINT="https://172.20.0.52:2379"
          HTTP_PROXY=#HTTP_PROXY=
          HTTPS_PROXY=#HTTPS_PROXY=
          #http_proxy=#http_proxy=
          #https_proxy=#https_proxy=
          #no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock
    - path: /etc/systemd/system.conf.d/10-default-env.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Manager]
          #DefaultEnvironment=http_proxy=#http_proxy=
          #DefaultEnvironment=https_proxy=#https_proxy=
          #DefaultEnvironment=HTTP_PROXY=#HTTP_PROXY=
          #DefaultEnvironment=HTTPS_PROXY=#HTTPS_PROXY=
          #DefaultEnvironment="no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock"
    - path: /etc/systemd/system/docker.service.d/environment.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Service]
          #ExecStartPre=ln -s /run/flannel/flannel_docker_opts.env /etc/kubernetes/cni/docker_opts_cni.env
          EnvironmentFile=/etc/environment
    - path: /etc/systemd/system/etcd-member.service.d/conf1.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Service]
          EnvironmentFile=/etc/flannel/options.env
    - path: /etc/systemd/timesyncd.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Time]
          NTP=pool.ntp.org
    - path: /var/lib/etcd/ssl/ca.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIDfzCCAmegAwIBAgIJAKtDaK2a6vroMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBdMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMQ0wCwYDVQQDDARFdGNkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB
          CgKCAQEAtOO+RhYZyOplfA/G5VaiKMUa/YRmeboLtjJZr20uwfTFc7+GzFpvf8RF
          /L+AR3XlNKauRoCGYCwVg0bLY+IizobqBgecFkNsl5sRbGVPrNceIYEIiGUSOT8K
          Xr67b2QsDqgFHEJXngpKuYrhbyyb3SHAm+Ux9DmecuQ4tOxAW5sXpINhBoLpZKtU
          +vr3ItCmfjOKERos8+GKMzD2ruPUW3dQzG/P3P35+DWDalBrP7XUCAgRMDeLAaCP
          j3dEDyU4jr6UyohyMkzC6JTICkywtTH6zcbHv5H25H4H8atRVtOf3abUHF6HPpIU
          HtUjhBagpOdGGvVrHVkWM+RZiooHmwIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAQYw
          DwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUsr5AcLRr6pxxwVC5gfW7NJQx3Xcw
          DQYJKoZIhvcNAQELBQADggEBACx3/ZRqAUlBU/TavQms4ao3CtLtvKcJWQ+nUm8Z
          tjBW1rkOxdmI00+peRpP8Z3hvHVa9sP4s8OSrqRHupzaAaQay0xnIAnPjAtO4N42
          wBzz71jAhyzyLm4QxdbgvPH+qJxM8i7e8MXtNYffzLOcjuYf0JfjWJXOWWs9Dbgi
          RQwjQh94IFrjF22b37Wrn4arChNwQgBBobWOp30R1Mfdbgp4sxJSbewAVNKzmsUh
          +3UTcworDMe4rOn1rd6OitsDSFYs7DO+1GeRM6SNzJ4Lf+Vv+XXvHkQ35z1JNDlC
          p0HMVYpgDzLWU+aEVOG0azwZXex4A4bdTSbldvCtT9kHcSA=
          -----END CERTIFICATE-----

    - path: /etc/ssl/certs/ca.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIDfzCCAmegAwIBAgIJAKtDaK2a6vroMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBdMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMQ0wCwYDVQQDDARFdGNkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB
          CgKCAQEAtOO+RhYZyOplfA/G5VaiKMUa/YRmeboLtjJZr20uwfTFc7+GzFpvf8RF
          /L+AR3XlNKauRoCGYCwVg0bLY+IizobqBgecFkNsl5sRbGVPrNceIYEIiGUSOT8K
          Xr67b2QsDqgFHEJXngpKuYrhbyyb3SHAm+Ux9DmecuQ4tOxAW5sXpINhBoLpZKtU
          +vr3ItCmfjOKERos8+GKMzD2ruPUW3dQzG/P3P35+DWDalBrP7XUCAgRMDeLAaCP
          j3dEDyU4jr6UyohyMkzC6JTICkywtTH6zcbHv5H25H4H8atRVtOf3abUHF6HPpIU
          HtUjhBagpOdGGvVrHVkWM+RZiooHmwIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAQYw
          DwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUsr5AcLRr6pxxwVC5gfW7NJQx3Xcw
          DQYJKoZIhvcNAQELBQADggEBACx3/ZRqAUlBU/TavQms4ao3CtLtvKcJWQ+nUm8Z
          tjBW1rkOxdmI00+peRpP8Z3hvHVa9sP4s8OSrqRHupzaAaQay0xnIAnPjAtO4N42
          wBzz71jAhyzyLm4QxdbgvPH+qJxM8i7e8MXtNYffzLOcjuYf0JfjWJXOWWs9Dbgi
          RQwjQh94IFrjF22b37Wrn4arChNwQgBBobWOp30R1Mfdbgp4sxJSbewAVNKzmsUh
          +3UTcworDMe4rOn1rd6OitsDSFYs7DO+1GeRM6SNzJ4Lf+Vv+XXvHkQ35z1JNDlC
          p0HMVYpgDzLWU+aEVOG0azwZXex4A4bdTSbldvCtT9kHcSA=
          -----END CERTIFICATE-----

    - path: /etc/kubernetes/ssl/ca.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIDfzCCAmegAwIBAgIJAKtDaK2a6vroMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBdMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMQ0wCwYDVQQDDARFdGNkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB
          CgKCAQEAtOO+RhYZyOplfA/G5VaiKMUa/YRmeboLtjJZr20uwfTFc7+GzFpvf8RF
          /L+AR3XlNKauRoCGYCwVg0bLY+IizobqBgecFkNsl5sRbGVPrNceIYEIiGUSOT8K
          Xr67b2QsDqgFHEJXngpKuYrhbyyb3SHAm+Ux9DmecuQ4tOxAW5sXpINhBoLpZKtU
          +vr3ItCmfjOKERos8+GKMzD2ruPUW3dQzG/P3P35+DWDalBrP7XUCAgRMDeLAaCP
          j3dEDyU4jr6UyohyMkzC6JTICkywtTH6zcbHv5H25H4H8atRVtOf3abUHF6HPpIU
          HtUjhBagpOdGGvVrHVkWM+RZiooHmwIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAQYw
          DwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUsr5AcLRr6pxxwVC5gfW7NJQx3Xcw
          DQYJKoZIhvcNAQELBQADggEBACx3/ZRqAUlBU/TavQms4ao3CtLtvKcJWQ+nUm8Z
          tjBW1rkOxdmI00+peRpP8Z3hvHVa9sP4s8OSrqRHupzaAaQay0xnIAnPjAtO4N42
          wBzz71jAhyzyLm4QxdbgvPH+qJxM8i7e8MXtNYffzLOcjuYf0JfjWJXOWWs9Dbgi
          RQwjQh94IFrjF22b37Wrn4arChNwQgBBobWOp30R1Mfdbgp4sxJSbewAVNKzmsUh
          +3UTcworDMe4rOn1rd6OitsDSFYs7DO+1GeRM6SNzJ4Lf+Vv+XXvHkQ35z1JNDlC
          p0HMVYpgDzLWU+aEVOG0azwZXex4A4bdTSbldvCtT9kHcSA=
          -----END CERTIFICATE-----

    - path: /etc/kubernetes/ssl/etcd-node.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIFiTCCBHGgAwIBAgIJAJUXSmYDMxBlMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBiMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMRIwEAYDVQQDDAlldGNkLW5vZGUwggEiMA0GCSqGSIb3DQEBAQUAA4IB
          DwAwggEKAoIBAQCwOCkXAUGK/L2pC3smRnW62su9O9M+CApNXSI3Z42KMByaUTso
          H5MbjRCr6rMxKVYZhRifjozphV2dBtka78GK9gMAkHOJflIcdYFPIbyApfdlj6Y+
          vyiLzQFNxiWxFSZ8Z2bUaCG4u0MlEjag7ncWz1wzBlKcvNcNIk2ny7HuqDjKd88c
          6spW6iKZQZ31GZzSj5KKvp2gphdOPdlA2hEmkGX+z4dRV26BXyp4k/3u5GbuE3KT
          BmFBaadHiLnxPHcIxE8FX1z6Fvf8WFgarm5xu/mCmyR5k6N/7slrtj09ndEJPWlD
          lG6VpgvLKmxEfp7II9S0IClENbTAqnr6qAZXAgMBAAGjggJFMIICQTAOBgNVHQ8B
          Af8EBAMCBeAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMAwGA1UdEwEB
          /wQCMAAwHQYDVR0OBBYEFKWb075VcQvlLjR+38pTVOHNRfi2MIIB4QYDVR0RBIIB
          2DCCAdSCCmt1YmVybmV0ZXOCEmt1YmVybmV0ZXMuZGVmYXVsdIIWa3ViZXJuZXRl
          cy5kZWZhdWx0LnN2Y4Ika3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxv
          Y2Fsgg5rdWJlLWFwaXNlcnZlcoIKa3ViZS1hZG1pboIJbG9jYWxob3N0ggtibmgu
          ZXhhbXBsZYIHY29yZW9zMYIHY29yZW9zMoIHY29yZW9zM4INY29yZW9zMS5sb2Nh
          bIINY29yZW9zMi5sb2NhbIINY29yZW9zMy5sb2NhbIITY29yZW9zMS5leGFtcGxl
          LmNvbYITY29yZW9zMi5leGFtcGxlLmNvbYITY29yZW9zMy5leGFtcGxlLmNvbYIH
          d29ya2VyMYIHd29ya2VyMoIHd29ya2VyM4ITd29ya2VyMS5leGFtcGxlLmNvbYIT
          d29ya2VyMi5leGFtcGxlLmNvbYITd29ya2VyMy5leGFtcGxlLmNvbYcEfwAAAYcE
          AAAAAIcECgMAAYcECgMACocECgMAMocErBQAAYcErBQAAocErBQAC4cErBQADIcE
          rBQADYcErBQAM4cErBQANIcErBQANYERYWRtaW5AZXhhbXBsZS5jb20wDQYJKoZI
          hvcNAQELBQADggEBAEHDhUganq2e3zEjSmxGSjNv9QbUgBk05QIxOt8YJtBmEwx0
          eSQxE9E8cglWQNr4kL86Z7JpBcZqYc31N0NYiWLimsHrX5udFfCFUZ+c42xtXil6
          cg/J0epk20q2NLkSsmUl/DT4P6JJl4zrUi7Rf2fQdyUx+SuHcXF0eRKTGG9y6Rx6
          /myWDGpn3peCq8DfO4b+QyOhchH+HWbrcA7XlxZHWbU4CWDLV8eCNAay9zvhK0SM
          u2PYROxnd2qkFraMXu1tYWxG84BWsbgycpOnGztpJR8JS3UF2c65fWF7InA6nXKT
          1x3f+5z5VNAKUZhorIeuH1E0Sb/C6izjLOgCBIs=
          -----END CERTIFICATE-----

    - path: /etc/kubernetes/ssl/etcd-node-key.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEAsDgpFwFBivy9qQt7JkZ1utrLvTvTPggKTV0iN2eNijAcmlE7
          KB+TG40Qq+qzMSlWGYUYn46M6YVdnQbZGu/BivYDAJBziX5SHHWBTyG8gKX3ZY+m
          Pr8oi80BTcYlsRUmfGdm1GghuLtDJRI2oO53Fs9cMwZSnLzXDSJNp8ux7qg4ynfP
          HOrKVuoimUGd9Rmc0o+Sir6doKYXTj3ZQNoRJpBl/s+HUVdugV8qeJP97uRm7hNy
          kwZhQWmnR4i58Tx3CMRPBV9c+hb3/FhYGq5ucbv5gpskeZOjf+7Ja7Y9PZ3RCT1p
          Q5RulaYLyypsRH6eyCPUtCApRDW0wKp6+qgGVwIDAQABAoIBAB/UpSdwpKQ0bxXf
          6wjI5W8xImg2LDwiO6opzopvfBOgCSqeza67tVjerEpBhMi2jMTjU8VOfImZ+4Tn
          vcOt1yoAsh4h+Zy2YqKdXxQqJeCfGgcQYZkn8mz+ROQFjL1l8qO6EcsAXEcAHGrP
          1WpQaNaH8kGNPNLvEXFf5uMOWj+fenFlc/2cizswjsKOW+chWrhT+hGEUgdCTR0s
          VD48XnwZ6vVLr0TdA6QESNu2QORvQ95yHIZOVmDOZZ/HGyxGNLkO1e8gOxwABF0G
          WRiPFCKxXX5sMBxuz4CbIP9+7NyO6lzNRZ2wHQ3CgMk7zOLMBe7BxBXeL0IAdf9H
          b2SGzsECgYEA4gLqTVx2qsTlMQ8Rn9qOvXHgG475bpnp1mTeumXM+wP1Ef6JyyDf
          foUCg5syBPX7t5Pe9nJyTsR5nAQk8ttf6ALpwfVAXb2bFaHy0b9kX1ulrHWVqv0e
          Nw7ModgISJFnsawyMz+pnUNpQDSHLC2O83q1E3iMLFlMRFFPUUABvXECgYEAx5ns
          +VwZzEaNOiIlTL6FeDBQ9ClZETFJalBR5gMhklcw0oajUSz1hrEQd/szmErdhQ9A
          kvRbknwkdFCm4cjNcVNeRU+nDuNR92/VXj5k5wqMza69+EiJwLTktEHk9nUHTjW8
          qLHriXEKnOIvCJYSusTwv2yTOnWJNO2HvWMmPEcCgYBHC3WNdehTi+sjvcHjhvdh
          s78nyoy76KPp4fFllISXz0mlK2czNBUtFzCQICPcDVrf/RqUS6uE+RvlICRhNvZx
          3yCN+MMP9H8gkLTcnBY4J33vtVKj2kc6NWu74EXSUerPnfp1w6hUqBEYvqpTB8ss
          3EC5ayZc9oET5J9TQhSJ8QKBgQC0YuvDP/Ugo/ImQ42qGdTNlfzTbDrOStiqeARL
          9zBz7NB2sq8OQa9zFrpndGJgk+g2xF37cVMAw6i+ZdUr4Cmq7UkZIq87yTzeffc6
          wPC3zNULXYzZwdScj97Q+WxPP9xmVjI10vWmtL5+ofsXq2kp2aoplZpJDsf9SV2P
          TvfTKQKBgCG8gEPHkZPDAqLzuxOnxdBVdKUjGQ1VLfVW0VQ0kXMi5eJ34ZgX6zfs
          kEdmA8+s3R500gGCi4iCEOzZCO3gfzFlAFiX2rdV9cDMpUho266xnDRO5/QqNAZe
          lGXw9jnGyUIe2fDoHKEKD9bjkr7qFoqXoEW01Png54qxjidDKkrP
          -----END RSA PRIVATE KEY-----

    - path: /var/lib/etcd/ssl/etcd-node.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIFiTCCBHGgAwIBAgIJAJUXSmYDMxBlMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBiMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMRIwEAYDVQQDDAlldGNkLW5vZGUwggEiMA0GCSqGSIb3DQEBAQUAA4IB
          DwAwggEKAoIBAQCwOCkXAUGK/L2pC3smRnW62su9O9M+CApNXSI3Z42KMByaUTso
          H5MbjRCr6rMxKVYZhRifjozphV2dBtka78GK9gMAkHOJflIcdYFPIbyApfdlj6Y+
          vyiLzQFNxiWxFSZ8Z2bUaCG4u0MlEjag7ncWz1wzBlKcvNcNIk2ny7HuqDjKd88c
          6spW6iKZQZ31GZzSj5KKvp2gphdOPdlA2hEmkGX+z4dRV26BXyp4k/3u5GbuE3KT
          BmFBaadHiLnxPHcIxE8FX1z6Fvf8WFgarm5xu/mCmyR5k6N/7slrtj09ndEJPWlD
          lG6VpgvLKmxEfp7II9S0IClENbTAqnr6qAZXAgMBAAGjggJFMIICQTAOBgNVHQ8B
          Af8EBAMCBeAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMAwGA1UdEwEB
          /wQCMAAwHQYDVR0OBBYEFKWb075VcQvlLjR+38pTVOHNRfi2MIIB4QYDVR0RBIIB
          2DCCAdSCCmt1YmVybmV0ZXOCEmt1YmVybmV0ZXMuZGVmYXVsdIIWa3ViZXJuZXRl
          cy5kZWZhdWx0LnN2Y4Ika3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxv
          Y2Fsgg5rdWJlLWFwaXNlcnZlcoIKa3ViZS1hZG1pboIJbG9jYWxob3N0ggtibmgu
          ZXhhbXBsZYIHY29yZW9zMYIHY29yZW9zMoIHY29yZW9zM4INY29yZW9zMS5sb2Nh
          bIINY29yZW9zMi5sb2NhbIINY29yZW9zMy5sb2NhbIITY29yZW9zMS5leGFtcGxl
          LmNvbYITY29yZW9zMi5leGFtcGxlLmNvbYITY29yZW9zMy5leGFtcGxlLmNvbYIH
          d29ya2VyMYIHd29ya2VyMoIHd29ya2VyM4ITd29ya2VyMS5leGFtcGxlLmNvbYIT
          d29ya2VyMi5leGFtcGxlLmNvbYITd29ya2VyMy5leGFtcGxlLmNvbYcEfwAAAYcE
          AAAAAIcECgMAAYcECgMACocECgMAMocErBQAAYcErBQAAocErBQAC4cErBQADIcE
          rBQADYcErBQAM4cErBQANIcErBQANYERYWRtaW5AZXhhbXBsZS5jb20wDQYJKoZI
          hvcNAQELBQADggEBAEHDhUganq2e3zEjSmxGSjNv9QbUgBk05QIxOt8YJtBmEwx0
          eSQxE9E8cglWQNr4kL86Z7JpBcZqYc31N0NYiWLimsHrX5udFfCFUZ+c42xtXil6
          cg/J0epk20q2NLkSsmUl/DT4P6JJl4zrUi7Rf2fQdyUx+SuHcXF0eRKTGG9y6Rx6
          /myWDGpn3peCq8DfO4b+QyOhchH+HWbrcA7XlxZHWbU4CWDLV8eCNAay9zvhK0SM
          u2PYROxnd2qkFraMXu1tYWxG84BWsbgycpOnGztpJR8JS3UF2c65fWF7InA6nXKT
          1x3f+5z5VNAKUZhorIeuH1E0Sb/C6izjLOgCBIs=
          -----END CERTIFICATE-----

    - path: /var/lib/etcd/ssl/etcd-node-key.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEAsDgpFwFBivy9qQt7JkZ1utrLvTvTPggKTV0iN2eNijAcmlE7
          KB+TG40Qq+qzMSlWGYUYn46M6YVdnQbZGu/BivYDAJBziX5SHHWBTyG8gKX3ZY+m
          Pr8oi80BTcYlsRUmfGdm1GghuLtDJRI2oO53Fs9cMwZSnLzXDSJNp8ux7qg4ynfP
          HOrKVuoimUGd9Rmc0o+Sir6doKYXTj3ZQNoRJpBl/s+HUVdugV8qeJP97uRm7hNy
          kwZhQWmnR4i58Tx3CMRPBV9c+hb3/FhYGq5ucbv5gpskeZOjf+7Ja7Y9PZ3RCT1p
          Q5RulaYLyypsRH6eyCPUtCApRDW0wKp6+qgGVwIDAQABAoIBAB/UpSdwpKQ0bxXf
          6wjI5W8xImg2LDwiO6opzopvfBOgCSqeza67tVjerEpBhMi2jMTjU8VOfImZ+4Tn
          vcOt1yoAsh4h+Zy2YqKdXxQqJeCfGgcQYZkn8mz+ROQFjL1l8qO6EcsAXEcAHGrP
          1WpQaNaH8kGNPNLvEXFf5uMOWj+fenFlc/2cizswjsKOW+chWrhT+hGEUgdCTR0s
          VD48XnwZ6vVLr0TdA6QESNu2QORvQ95yHIZOVmDOZZ/HGyxGNLkO1e8gOxwABF0G
          WRiPFCKxXX5sMBxuz4CbIP9+7NyO6lzNRZ2wHQ3CgMk7zOLMBe7BxBXeL0IAdf9H
          b2SGzsECgYEA4gLqTVx2qsTlMQ8Rn9qOvXHgG475bpnp1mTeumXM+wP1Ef6JyyDf
          foUCg5syBPX7t5Pe9nJyTsR5nAQk8ttf6ALpwfVAXb2bFaHy0b9kX1ulrHWVqv0e
          Nw7ModgISJFnsawyMz+pnUNpQDSHLC2O83q1E3iMLFlMRFFPUUABvXECgYEAx5ns
          +VwZzEaNOiIlTL6FeDBQ9ClZETFJalBR5gMhklcw0oajUSz1hrEQd/szmErdhQ9A
          kvRbknwkdFCm4cjNcVNeRU+nDuNR92/VXj5k5wqMza69+EiJwLTktEHk9nUHTjW8
          qLHriXEKnOIvCJYSusTwv2yTOnWJNO2HvWMmPEcCgYBHC3WNdehTi+sjvcHjhvdh
          s78nyoy76KPp4fFllISXz0mlK2czNBUtFzCQICPcDVrf/RqUS6uE+RvlICRhNvZx
          3yCN+MMP9H8gkLTcnBY4J33vtVKj2kc6NWu74EXSUerPnfp1w6hUqBEYvqpTB8ss
          3EC5ayZc9oET5J9TQhSJ8QKBgQC0YuvDP/Ugo/ImQ42qGdTNlfzTbDrOStiqeARL
          9zBz7NB2sq8OQa9zFrpndGJgk+g2xF37cVMAw6i+ZdUr4Cmq7UkZIq87yTzeffc6
          wPC3zNULXYzZwdScj97Q+WxPP9xmVjI10vWmtL5+ofsXq2kp2aoplZpJDsf9SV2P
          TvfTKQKBgCG8gEPHkZPDAqLzuxOnxdBVdKUjGQ1VLfVW0VQ0kXMi5eJ34ZgX6zfs
          kEdmA8+s3R500gGCi4iCEOzZCO3gfzFlAFiX2rdV9cDMpUho266xnDRO5/QqNAZe
          lGXw9jnGyUIe2fDoHKEKD9bjkr7qFoqXoEW01Png54qxjidDKkrP
          -----END RSA PRIVATE KEY-----

    - path: /etc/kubernetes/ssl/worker.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN CERTIFICATE-----
          MIIFiTCCBHGgAwIBAgIJAJUXSmYDMxBlMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBiMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMRIwEAYDVQQDDAlldGNkLW5vZGUwggEiMA0GCSqGSIb3DQEBAQUAA4IB
          DwAwggEKAoIBAQCwOCkXAUGK/L2pC3smRnW62su9O9M+CApNXSI3Z42KMByaUTso
          H5MbjRCr6rMxKVYZhRifjozphV2dBtka78GK9gMAkHOJflIcdYFPIbyApfdlj6Y+
          vyiLzQFNxiWxFSZ8Z2bUaCG4u0MlEjag7ncWz1wzBlKcvNcNIk2ny7HuqDjKd88c
          6spW6iKZQZ31GZzSj5KKvp2gphdOPdlA2hEmkGX+z4dRV26BXyp4k/3u5GbuE3KT
          BmFBaadHiLnxPHcIxE8FX1z6Fvf8WFgarm5xu/mCmyR5k6N/7slrtj09ndEJPWlD
          lG6VpgvLKmxEfp7II9S0IClENbTAqnr6qAZXAgMBAAGjggJFMIICQTAOBgNVHQ8B
          Af8EBAMCBeAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMAwGA1UdEwEB
          /wQCMAAwHQYDVR0OBBYEFKWb075VcQvlLjR+38pTVOHNRfi2MIIB4QYDVR0RBIIB
          2DCCAdSCCmt1YmVybmV0ZXOCEmt1YmVybmV0ZXMuZGVmYXVsdIIWa3ViZXJuZXRl
          cy5kZWZhdWx0LnN2Y4Ika3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxv
          Y2Fsgg5rdWJlLWFwaXNlcnZlcoIKa3ViZS1hZG1pboIJbG9jYWxob3N0ggtibmgu
          ZXhhbXBsZYIHY29yZW9zMYIHY29yZW9zMoIHY29yZW9zM4INY29yZW9zMS5sb2Nh
          bIINY29yZW9zMi5sb2NhbIINY29yZW9zMy5sb2NhbIITY29yZW9zMS5leGFtcGxl
          LmNvbYITY29yZW9zMi5leGFtcGxlLmNvbYITY29yZW9zMy5leGFtcGxlLmNvbYIH
          d29ya2VyMYIHd29ya2VyMoIHd29ya2VyM4ITd29ya2VyMS5leGFtcGxlLmNvbYIT
          d29ya2VyMi5leGFtcGxlLmNvbYITd29ya2VyMy5leGFtcGxlLmNvbYcEfwAAAYcE
          AAAAAIcECgMAAYcECgMACocECgMAMocErBQAAYcErBQAAocErBQAC4cErBQADIcE
          rBQADYcErBQAM4cErBQANIcErBQANYERYWRtaW5AZXhhbXBsZS5jb20wDQYJKoZI
          hvcNAQELBQADggEBAEHDhUganq2e3zEjSmxGSjNv9QbUgBk05QIxOt8YJtBmEwx0
          eSQxE9E8cglWQNr4kL86Z7JpBcZqYc31N0NYiWLimsHrX5udFfCFUZ+c42xtXil6
          cg/J0epk20q2NLkSsmUl/DT4P6JJl4zrUi7Rf2fQdyUx+SuHcXF0eRKTGG9y6Rx6
          /myWDGpn3peCq8DfO4b+QyOhchH+HWbrcA7XlxZHWbU4CWDLV8eCNAay9zvhK0SM
          u2PYROxnd2qkFraMXu1tYWxG84BWsbgycpOnGztpJR8JS3UF2c65fWF7InA6nXKT
          1x3f+5z5VNAKUZhorIeuH1E0Sb/C6izjLOgCBIs=
          -----END CERTIFICATE-----
          -----BEGIN CERTIFICATE-----
          MIIDfzCCAmegAwIBAgIJAKtDaK2a6vroMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNV
          BAYTAlVTMQswCQYDVQQIDAJOWTERMA8GA1UEBwwITmV3IFlvcmsxETAPBgNVBAoM
          CENvbXBhbnkxMQwwCgYDVQQLDANPcHMxDTALBgNVBAMMBEV0Y2QwHhcNMTcxMjIy
          MTcxNDEwWhcNMjcxMjIwMTcxNDEwWjBdMQswCQYDVQQGEwJVUzELMAkGA1UECAwC
          TlkxETAPBgNVBAcMCE5ldyBZb3JrMREwDwYDVQQKDAhDb21wYW55MTEMMAoGA1UE
          CwwDT3BzMQ0wCwYDVQQDDARFdGNkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB
          CgKCAQEAtOO+RhYZyOplfA/G5VaiKMUa/YRmeboLtjJZr20uwfTFc7+GzFpvf8RF
          /L+AR3XlNKauRoCGYCwVg0bLY+IizobqBgecFkNsl5sRbGVPrNceIYEIiGUSOT8K
          Xr67b2QsDqgFHEJXngpKuYrhbyyb3SHAm+Ux9DmecuQ4tOxAW5sXpINhBoLpZKtU
          +vr3ItCmfjOKERos8+GKMzD2ruPUW3dQzG/P3P35+DWDalBrP7XUCAgRMDeLAaCP
          j3dEDyU4jr6UyohyMkzC6JTICkywtTH6zcbHv5H25H4H8atRVtOf3abUHF6HPpIU
          HtUjhBagpOdGGvVrHVkWM+RZiooHmwIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAQYw
          DwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUsr5AcLRr6pxxwVC5gfW7NJQx3Xcw
          DQYJKoZIhvcNAQELBQADggEBACx3/ZRqAUlBU/TavQms4ao3CtLtvKcJWQ+nUm8Z
          tjBW1rkOxdmI00+peRpP8Z3hvHVa9sP4s8OSrqRHupzaAaQay0xnIAnPjAtO4N42
          wBzz71jAhyzyLm4QxdbgvPH+qJxM8i7e8MXtNYffzLOcjuYf0JfjWJXOWWs9Dbgi
          RQwjQh94IFrjF22b37Wrn4arChNwQgBBobWOp30R1Mfdbgp4sxJSbewAVNKzmsUh
          +3UTcworDMe4rOn1rd6OitsDSFYs7DO+1GeRM6SNzJ4Lf+Vv+XXvHkQ35z1JNDlC
          p0HMVYpgDzLWU+aEVOG0azwZXex4A4bdTSbldvCtT9kHcSA=
          -----END CERTIFICATE-----

    - path: /etc/kubernetes/ssl/worker-key.pem
      filesystem: root
      mode: 0644
      contents:
        inline: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEAsDgpFwFBivy9qQt7JkZ1utrLvTvTPggKTV0iN2eNijAcmlE7
          KB+TG40Qq+qzMSlWGYUYn46M6YVdnQbZGu/BivYDAJBziX5SHHWBTyG8gKX3ZY+m
          Pr8oi80BTcYlsRUmfGdm1GghuLtDJRI2oO53Fs9cMwZSnLzXDSJNp8ux7qg4ynfP
          HOrKVuoimUGd9Rmc0o+Sir6doKYXTj3ZQNoRJpBl/s+HUVdugV8qeJP97uRm7hNy
          kwZhQWmnR4i58Tx3CMRPBV9c+hb3/FhYGq5ucbv5gpskeZOjf+7Ja7Y9PZ3RCT1p
          Q5RulaYLyypsRH6eyCPUtCApRDW0wKp6+qgGVwIDAQABAoIBAB/UpSdwpKQ0bxXf
          6wjI5W8xImg2LDwiO6opzopvfBOgCSqeza67tVjerEpBhMi2jMTjU8VOfImZ+4Tn
          vcOt1yoAsh4h+Zy2YqKdXxQqJeCfGgcQYZkn8mz+ROQFjL1l8qO6EcsAXEcAHGrP
          1WpQaNaH8kGNPNLvEXFf5uMOWj+fenFlc/2cizswjsKOW+chWrhT+hGEUgdCTR0s
          VD48XnwZ6vVLr0TdA6QESNu2QORvQ95yHIZOVmDOZZ/HGyxGNLkO1e8gOxwABF0G
          WRiPFCKxXX5sMBxuz4CbIP9+7NyO6lzNRZ2wHQ3CgMk7zOLMBe7BxBXeL0IAdf9H
          b2SGzsECgYEA4gLqTVx2qsTlMQ8Rn9qOvXHgG475bpnp1mTeumXM+wP1Ef6JyyDf
          foUCg5syBPX7t5Pe9nJyTsR5nAQk8ttf6ALpwfVAXb2bFaHy0b9kX1ulrHWVqv0e
          Nw7ModgISJFnsawyMz+pnUNpQDSHLC2O83q1E3iMLFlMRFFPUUABvXECgYEAx5ns
          +VwZzEaNOiIlTL6FeDBQ9ClZETFJalBR5gMhklcw0oajUSz1hrEQd/szmErdhQ9A
          kvRbknwkdFCm4cjNcVNeRU+nDuNR92/VXj5k5wqMza69+EiJwLTktEHk9nUHTjW8
          qLHriXEKnOIvCJYSusTwv2yTOnWJNO2HvWMmPEcCgYBHC3WNdehTi+sjvcHjhvdh
          s78nyoy76KPp4fFllISXz0mlK2czNBUtFzCQICPcDVrf/RqUS6uE+RvlICRhNvZx
          3yCN+MMP9H8gkLTcnBY4J33vtVKj2kc6NWu74EXSUerPnfp1w6hUqBEYvqpTB8ss
          3EC5ayZc9oET5J9TQhSJ8QKBgQC0YuvDP/Ugo/ImQ42qGdTNlfzTbDrOStiqeARL
          9zBz7NB2sq8OQa9zFrpndGJgk+g2xF37cVMAw6i+ZdUr4Cmq7UkZIq87yTzeffc6
          wPC3zNULXYzZwdScj97Q+WxPP9xmVjI10vWmtL5+ofsXq2kp2aoplZpJDsf9SV2P
          TvfTKQKBgCG8gEPHkZPDAqLzuxOnxdBVdKUjGQ1VLfVW0VQ0kXMi5eJ34ZgX6zfs
          kEdmA8+s3R500gGCi4iCEOzZCO3gfzFlAFiX2rdV9cDMpUho266xnDRO5/QqNAZe
          lGXw9jnGyUIe2fDoHKEKD9bjkr7qFoqXoEW01Png54qxjidDKkrP
          -----END RSA PRIVATE KEY-----

    - path: /etc/profile.d/aliases.sh
      filesystem: root
      mode: 0755
      contents:
        inline: |
          dps () { docker ps -a ; }
          dl () { docker logs -f $1 & }
          drm () { docker stop $1 && docker rm $1; }
          PATH=$PATH:/opt/bin
    - path: /etc/flannel/options.env
      filesystem: root
      mode: 0644
      contents:
        inline: |
          # ETCDCTL parameters
          ADVERTISE_IP=${ADVERTISE_IP}
          ETCDCTL_CA_FILE=/etc/ssl/certs/ca.pem
          ETCDCTL_CERT_FILE=/var/lib/etcd/ssl/etcd-node.pem
          ETCDCTL_KEY_FILE=/var/lib/etcd/ssl/etcd-node-key.pem
          ETCDCTL_ENDPOINTS="https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
          FLANNELD_IFACE="enp0s3"
          FLANNELD_ETCD_ENDPOINTS=${ETCDCTL_ENDPOINTS}
          FLANNELD_ETCD_PREFIX="/coreos.com/network"
          HTTP_PROXY=#HTTP_PROXY=
          HTTPS_PROXY=#HTTPS_PROXY=
          #http_proxy=#http_proxy=
          #https_proxy=#https_proxy=
          no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock
    - path: /etc/systemd/system/docker.service.d/40-flannel.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Unit]
          Requires=flanneld.service
          After=flanneld.service
          [Service]
          EnvironmentFile=/etc/kubernetes/cni/docker_opts_cni.env
    - path: /etc/kubernetes/cni/docker_opts_cni.env
      filesystem: root
      mode: 0644
      contents:
        inline: |
          DOCKER_OPT_BIP=""
          DOCKER_OPT_IPMASQ=""
    - path: /etc/kubernetes/cni/net.d/10-containernet.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          {
              "name": "podnet",
              "type": "flannel",
              "delegate": {
                  "forceAddress": true,
                  "isDefaultGateway": true,
                  "hairpinMode": true
              }
          }
    - path: /etc/systemd/system/flanneld.service.d/40-ExecStartPre-symlink.conf
      filesystem: root
      mode: 0644
      contents:
        inline: |
          [Service]
          ExecStartPre=/usr/bin/ln -sf /etc/flannel/options.env /run/flannel/options.env
          ExecStartPre=/usr/bin/ln -sf /etc/kubernetes/cni/net.d /etc/rkt/net.d
    - path: /etc/kubernetes/kubelet.env
      filesystem: root
      mode: 0644
      contents:
        inline: |
          KUBELET_IMAGE_URL=quay.io/coreos/hyperkube
          KUBELET_VERSION=v1.8.0_coreos.0
    - path: /etc/kubernetes/ssl/worker-kubeconfig.yaml 
      filesystem: root
      mode: 0644
      contents:
        inline: |
          apiVersion: v1
          kind: Config
          clusters:
          - name: local
            cluster:
              server: https://172.20.0.11:443
              certificate-authority: /etc/kubernetes/ssl/ca.pem
          users:
          - name: kubelet
            user:
              client-certificate: /etc/kubernetes/ssl/etcd-node.pem
              client-key: /etc/kubernetes/ssl/etcd-node-key.pem
          contexts:
          - context:
              cluster: local
              user: kubelet
    - path: /etc/kubernetes/kubeconfig.yaml 
      filesystem: root
      mode: 0644
      contents:
        inline: |
          apiVersion: v1
          kind: Config
          clusters:
          - name: local
            cluster:
              server: https://172.20.0.11:443
              certificate-authority: /etc/kubernetes/ssl/ca.pem
          users:
          - name: kubelet
            user:
              client-certificate: /etc/kubernetes/ssl/etcd-node.pem
              client-key: /etc/kubernetes/ssl/etcd-node-key.pem
          contexts:
          - context:
              cluster: local
              user: kubelet
    - path: /etc/kubernetes/manifests/kube-proxy.yaml
      filesystem: root
      mode: 0644
      contents:
        inline: |
          --- 
          apiVersion: v1
          kind: Pod
          metadata: 
            labels: 
              k8s-app: kube-proxy
              tier: node
            name: kube-proxy
            namespace: kube-system
          spec: 
            containers: 
              - 
                command: 
                  - ./hyperkube
                  - proxy
                  - "--master=https://172.20.0.11:443"
                  - "--kubeconfig=/etc/kubernetes/ssl/worker-kubeconfig.yaml"
                  - "--logtostderr=true"
                  - "--proxy-mode=iptables"
                  - "--hostname-override=172.20.0.52"
                  - "--cluster-cidr=10.20.0.0/20"
                  - "--v=3"
                env: 
                  - 
                    name: NODE_NAME
                    valueFrom: 
                      fieldRef: 
                        fieldPath: spec.nodeName
                image: "quay.io/coreos/hyperkube:v1.8.0_coreos.0"
                name: kube-proxy
                securityContext: 
                  privileged: true
                volumeMounts: 
                  - 
                    mountPath: /etc/ssl/certs
                    name: ssl-certs-host
                    readOnly: true
                  -
                    mountPath: /etc/kubernetes/ssl
                    name: "kube-ssl"
                    readOnly: true
            hostNetwork: true
            tolerations: 
              - 
                effect: NoSchedule
                key: node-role.kubernetes.io/master
                operator: Exists
            volumes: 
              - 
                hostPath: 
                  path: /usr/share/ca-certificates
                name: ssl-certs-host
              - 
                hostPath:
                  path: "/etc/kubernetes/ssl"
                name: "kube-ssl"


passwd:
  users:
    - name: usera
      password_hash: "$6$5a7f185a25c14fc5$HQmow43pV0eJNYjKhUBAzDwHkbrJGDpvGpmnOw2TudLnCQ2Wid4bHvijDEyUUbvyE2HjgoN8LHzzix9Ku5Ae1."
      ssh_authorized_keys:
        - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC9i+2fKwFoGIcRXMJL872fgcxVxyHW36QfprxFR97NVTGy4mZdJ2u3pC0aAIJ5egopcVL98HPVtGpDK9AIee8/WV4O8/0yTfxaUmnC+LImxzKBkfV3ftg2fpikRIACTvxpyKt+4NZfOmniGClX/wRQH4jb4KU9eLshEuhpFQyCikL8xG5bGnxRs5QxnkSeKq8nNptcWZJtfSv19q1qcLkBL+bV10AmAxF+o5TfeOLTKnxdKJdNu1QqK1xG7bHDPL4FP0Pktb6knPPX9H+95bPBemVTpRbluJvqhqeJ6I7wwaQvKK1Iegj+cgtwBDeBfs7yBRhl+boFtr8Nmcf1mikB"
      home_dir: /home/usera
      groups:
        - sudo
        - docker
      shell: /bin/bash

systemd:
  units:
    - name: docker-tcp.socket
      enabled: false
      contents: |
        [Unit]
        Description=Docker Socket for the API

        [Socket]
        ListenStream=2375
        BindIPv6Only=both
        Service=docker.service

        [Install]
        WantedBy=sockets.target

    - name: docker.service
      enabled: false
      dropins:
        - name: 50-insecure-registry.conf
          contents: |
            [Service]
            Environment=DOCKER_OPTS=''
            #Environment=HTTP_PROXY=#HTTP_PROXY=
            #Environment=HTTPS_PROXY=#HTTPS_PROXY=
            #Environment=http_proxy=#http_proxy=
            #Environment=https_proxy=#https_proxy=
            #Environment=no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock

    - name: flanneld.service
      dropins:
        - name: 50-network-config.conf
          contents: |
            [Service]
            EnvironmentFile=/etc/flannel/options.env
            # Used in master config
            #ExecStartPre=/usr/bin/etcdctl set /coreos.com/network/config '{ "Network": "10.20.0.0/20", "SubnetLen": 24, "Backend": { "Type": "vxlan", "VNI": 1 } }'
            # VXlan/VNI/VLan example
            #ExecStartPre=/usr/bin/etcdctl ${CA} ${CERT} ${KEY} ${EP} set /coreos.com/network/red-db/config '{ "Network": "10.220.0.0/16", "SubnetLen": 24, "SubnetMin": "10.220.110.0", "SubnetMax": "10.220.200.0", "Backend": { "Type": "vxlan", "VNI": 6 } }'
            #ExecStartPre=/usr/bin/etcdctl ${CA} ${CERT} ${KEY} ${EP} set /coreos.com/network/red-app/config '{ "Network": "10.220.0.0/16", "SubnetLen": 24, "SubnetMin": "10.220.110.0", "SubnetMax": "10.220.200.0", "Backend": { "Type": "vxlan", "VNI": 5 } }'
            # This is needed for rkt to start due to some bug
            ExecStartPre=/usr/bin/rkt trust --skip-fingerprint-review --prefix=coreos.com/rkt/stage1-coreos
            ExecStartPre=/usr/bin/rkt image fetch coreos.com/rkt/stage1-coreos:1.29.0
            Restart=always

    - name: flanneld.service
      dropins:
        - name: 50-ssl.conf
          contents: |
            [Service]
            Environment="ETCD_SSL_DIR=/var/lib/etcd/ssl"

    - name: rkt-api-tcp.socket
      enabled: true
      contents: |
        [Unit]
        Description=rkt api service socket
        PartOf=rkt-api.service

        [Socket]
        ListenStream=127.0.0.1:15441
        Service=rkt-api.service
        BindIPv6Only=both

        [Install]
        WantedBy=sockets.target

    - name: rkt-api.service
      enabled: true
      contents: |
        [Unit]
        Description=rkt api service
        Documentation=http://github.com/rkt/rkt
        After=network.target rkt-api-tcp.socket
        Requires=rkt-api-tcp.socket

        [Service]
        ExecStart=/usr/bin/rkt api-service --local-config=/etc/rkt

        [Install]
        WantedBy=multi-user.target

    - name: rkt-gc.service
      enabled: true
      contents: |
        [Unit]
        Description=Garbage Collection for rkt

        [Service]
        Environment=GRACE_PERIOD=24h
        Type=oneshot
        ExecStart=/usr/bin/rkt gc --grace-period=${GRACE_PERIOD}

    - name: rkt-gc.timer
      enabled: true
      contents: |
        [Unit]
        Description=Periodic Garbage Collection for rkt

        [Timer]
        OnActiveSec=0s
        OnUnitActiveSec=12h

        [Install]
        WantedBy=multi-user.target

    - name: rkt-metadata.service
      enabled: true
      contents: |
        [Unit]
        Description=rkt metadata service
        Documentation=http://github.com/rkt/rkt
        After=network.target rkt-metadata.socket
        Requires=rkt-metadata.socket

        [Service]
        ExecStart=/usr/bin/rkt metadata-service

        [Install]
        WantedBy=multi-user.target

    - name: rkt-metadata.socket
      enabled: true
      contents: |
        [Unit]
        Description=rkt metadata service socket
        PartOf=rkt-metadata.service

        [Socket]
        ListenStream=/run/rkt/metadata-svc.sock
        SocketMode=0660
        SocketUser=root
        SocketGroup=root
        RemoveOnStop=true

        [Install]
        WantedBy=sockets.target

    - name: kubelet.service
      enabled: true
      contents: |
        [Unit]
        Description=The primary agent to run pods
        Documentation=http://kubernetes.io/docs/admin/kubelet/
        Requires=flanneld.service
        After=flanneld.service
        
        [Service]
        Slice=system.slice
        Environment=KUBELET_IMAGE_TAG=v1.8.0_coreos.0
        Environment=HTTP_PROXY=#HTTP_PROXY=
        Environment=HTTPS_PROXY=#HTTPS_PROXY=
        #Environment=http_proxy=#http_proxy=
        #Environment=https_proxy=#https_proxy=
        Environment=no_proxy=localhost,127.0.0.0/8,127.0.0.1,::1,172.20.0.11,172.20.0.12,172.20.0.13,coreos1,coreos2,coreos3,coreos1.example.com,coreos2.example.com,coreos3.example.com,/var/run/docker.sock
        ExecStartPre=/usr/bin/mkdir -p /etc/kubernetes/manifests
        ExecStartPre=/usr/bin/mkdir -p /var/log/containers
        ExecStartPre=/usr/bin/mkdir -p /etc/kubernetes/cni/net.d
        ExecStartPre=/usr/bin/mkdir -p /opt/cni/bin
        ExecStartPre=/usr/bin/mkdir -p /var/lib/cni
        Environment="RKT_RUN_ARGS=--uuid-file-save=/var/run/kubelet-pod.uuid \
          --net=host \
          --dns=host \
          --set-env-file=/etc/environment \
          --volume var-lib-rkt,kind=host,source=/var/lib/rkt \
          --mount volume=var-lib-rkt,target=/var/lib/rkt \
          --volume dns,kind=host,source=/etc/resolv.conf \
          --mount volume=dns,target=/etc/resolv.con \
          --volume var-lib-cni,kind=host,source=/var/lib/cni \
          --mount volume=var-lib-cni,target=/var/lib/cni \
          --volume var-log,kind=host,source=/var/log \
          --mount volume=var-log,target=/var/log \
          --volume container,kind=host,source=/var/log/containers \
          --mount volume=container,target=/var/log/containers \
          --volume rkt,kind=host,source=/usr/bin/rkt \
          --mount volume=rkt,target=/usr/bin/rkt"
        ExecStart=/usr/lib/coreos/kubelet-wrapper \
          --address="0.0.0.0" \
          --register-node=true \
          --container-runtime=rkt \
          --pod-manifest-path=/etc/kubernetes/manifests \
          --allow-privileged=true \
          --cert-dir=/etc/kubernetes/ssl \
          --tls-cert-file=/etc/kubernetes/ssl/etcd-node.pem \
          --tls-private-key-file=/etc/kubernetes/ssl/etcd-node-key.pem \
          --client-ca-file=/etc/kubernetes/ssl/ca.pem \
          --kubeconfig=/etc/kubernetes/kubeconfig.yaml \
          --cluster-dns=10.3.0.10 \
          --cluster-domain=cluster.local \
          --network-plugin=cni \
          --cni-conf-dir=/etc/kubernetes/cni/net.d \
          --lock-file=/var/run/lock/kubelet.lock \
          --exit-on-lock-contention \
          --cloud-provider="" \
          --cadvisor-port=4194 \
          --cgroups-per-qos=true \
          --cgroup-root=/ \
          --hostname-override=worker2
        ExecStop=-/usr/bin/rkt stop --uuid-file=/var/run/kubelet-pod.uuid
        Restart=always
        RestartSec=10
        
        [Install]
        WantedBy=multi-user.target

    - name: settimezone.service
      enabled: true
      contents: |
        [Unit]
        Description=Set the time zone

        [Service]
        ExecStart=/usr/bin/timedatectl set-timezone America/New_York
        RemainAfterExit=yes
        Type=oneshot

networkd:
  units:
    - name: 00-eno0.network
      contents: |
        [Match]
        Name=enp0s3

        [Network]
        Address=172.20.0.52/20
        Gateway=172.20.0.1
        DNS=8.8.8.8
        DNS=8.8.4.4
        Domains=example.com

flannel:
  version:        0.9.1
  etcd_prefix:    "/coreos.com/network"
  etcd_endpoints: "https://172.20.0.11:2379,https://172.20.0.12:2379,https://172.20.0.13:2379"
  etcd_cafile:    /etc/ssl/certs/ca.pem
  etcd_certfile:  /var/lib/etcd/ssl/etcd-node.pem
  etcd_keyfile:   /var/lib/etcd/ssl/etcd-node-key.pem
  interface:      enp0s3

update:
  group:  "alpha"
locksmith:
  reboot_strategy: "reboot"
  etcd_endpoints:  "https://172.20.0.52:2379"
  etcd_cafile: /etc/ssl/certs/ca.pem
  etcd_certfile: /var/lib/etcd/ssl/etcd-node.pem
  etcd_keyfile: /var/lib/etcd/ssl/etcd-node-key.pem
